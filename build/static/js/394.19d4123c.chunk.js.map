{"version":3,"file":"static/js/394.19d4123c.chunk.js","mappings":"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","sources":["app/modules/profile/components/Overview.tsx","app/modules/profile/ProfileHeader.tsx","app/modules/profile/ProfilePage.tsx","app/pages/staff-management/users-list/core/_requests.ts"],"sourcesContent":["import {Form, Formik} from 'formik'\r\nimport React, {FC, useEffect, useState} from 'react'\r\nimport PasswordStrengthBar from 'react-password-strength-bar'\r\nimport Swal from 'sweetalert2'\r\nimport {KTSVG, toAbsoluteUrl} from '../../../../_metronic/helpers'\r\nimport {\r\n  FeedsWidget2,\r\n  FeedsWidget3,\r\n  FeedsWidget4,\r\n  FeedsWidget5,\r\n  FeedsWidget6,\r\n  ChartsWidget1,\r\n  ListsWidget5,\r\n  ListsWidget2,\r\n} from '../../../../_metronic/partials/widgets'\r\nimport {\r\n  getPermissions,\r\n  getRoles,\r\n  updateUser,\r\n} from '../../../pages/staff-management/users-list/core/_requests'\r\nimport {useAuth} from '../../auth'\r\n\r\ntype Props = {\r\n  staff: any\r\n  setStaff: any\r\n}\r\n\r\nexport const Overview: FC<Props> = ({staff, setStaff}) => {\r\n  console.log(staff, 'staff')\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const {saveAuth, setCurrentUser, auth} = useAuth()\r\n  const [permissions, setPermissions] = useState([])\r\n  const [roles, setRoles] = useState<any[]>([])\r\n  const [selectedRole, setSelectedRole] = useState<any>()\r\n\r\n  useEffect(() => {\r\n    getPermissions()\r\n      .then((data) => {\r\n        let newData: any\r\n        newData = data.data\r\n        setPermissions(newData)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err, 'err')\r\n      })\r\n\r\n    getRoles()\r\n      .then((data) => {\r\n        let newData: any\r\n        newData = data.data\r\n        if (staff.role_id) {\r\n          setSelectedRole(newData.find((x: any) => x.id == staff.role_id))\r\n        }\r\n        setRoles(newData)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err, 'err')\r\n      })\r\n  }, [])\r\n\r\n  const handleChange = (e: any) => {\r\n    const {name, value} = e.target\r\n    setStaff({...staff, [name]: value})\r\n  }\r\n\r\n  const submit = async () => {\r\n    const data: any = await updateUser(staff)\r\n    saveAuth(data)\r\n    setCurrentUser(data)\r\n    Swal.fire({\r\n      title: 'Success!',\r\n      text: `Profile Updated!`,\r\n      icon: 'success',\r\n      confirmButtonText: 'Okay',\r\n    })\r\n  }\r\n\r\n  const onCheckbox = (e: any, id: number) => {\r\n    const {checked, name} = e.target\r\n    let perm: any = [...staff.permissions]\r\n    const index = perm?.findIndex((x: any) => x.permission_id == id)\r\n    if (index !== -1) {\r\n      perm[index] = {...perm[index], [name]: checked}\r\n    } else {\r\n      perm?.push({\r\n        permission_id: id,\r\n        can_view: name == 'can_view' && checked ? true : false,\r\n        can_view_own: name == 'can_view_own' && checked ? true : false,\r\n        can_create: name == 'can_create' && checked ? true : false,\r\n        can_edit: name == 'can_edit' && checked ? true : false,\r\n        can_delete: name == 'can_delete' && checked ? true : false,\r\n      })\r\n    }\r\n    setStaff({...staff, permissions: perm})\r\n  }\r\n\r\n  return (\r\n    <div className='row g-5 g-xxl-8'>\r\n      <div className='col-xl-6'>\r\n        <div className={`card mb-5 mb-xxl-8`}>\r\n          {/* begin::Body */}\r\n          <div className='card-body pb-0'>\r\n            <div className='w-100'>\r\n              <div className='fv-row mb-7'>\r\n                <label className='d-block form-label'>Avatar</label>\r\n                <div className='image-input image-input-outline' data-kt-image-input='true'>\r\n                  <div className=''>\r\n                    <img\r\n                      src={\r\n                        staff?.profile_image?.name\r\n                          ? URL.createObjectURL(staff?.profile_image)\r\n                          : staff?.profile_image != null\r\n                          ? staff?.profile_image\r\n                          : toAbsoluteUrl('/media/svg/avatars/blank.svg')\r\n                      }\r\n                      alt='avatar'\r\n                      className='image-input-wrapper w-125px h-125px'\r\n                    />\r\n                  </div>\r\n                  <label\r\n                    className='btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow'\r\n                    data-kt-image-input-action='change'\r\n                    data-bs-toggle='tooltip'\r\n                    title='Change avatar'\r\n                  >\r\n                    <i className='bi bi-pencil-fill fs-7'></i>\r\n                    <input\r\n                      type='file'\r\n                      name='profile_image'\r\n                      accept='.png, .jpg, .jpeg'\r\n                      onChange={(e: any) => {\r\n                        setStaff({...staff, profile_image: e.currentTarget.files[0]})\r\n                      }}\r\n                    />\r\n                    <input type='hidden' name='avatar_remove' />\r\n                  </label>\r\n                  {staff.profile_image !== null && (\r\n                    <button\r\n                      className='btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow'\r\n                      data-kt-image-input-action='remove'\r\n                      data-bs-toggle='tooltip'\r\n                      title='Remove avatar'\r\n                      type='button'\r\n                      onClick={() => setStaff({...staff, profile_image: null})}\r\n                    >\r\n                      <i className='bi bi-x fs-2'></i>\r\n                    </button>\r\n                  )}\r\n                </div>\r\n                <div className='form-text'>Allowed file types: png, jpg, jpeg.</div>\r\n              </div>\r\n\r\n              <div className='fv-row w-100 mb-10'>\r\n                <label className='form-label required'>First Name</label>\r\n\r\n                <input\r\n                  name='first_name'\r\n                  value={staff?.first_name}\r\n                  onChange={handleChange}\r\n                  className='form-control mb-2'\r\n                  placeholder={'Enter First Name'}\r\n                />\r\n                {/* <div className='text-danger mt-2'>\r\n                <ErrorMessage name='first_name' />\r\n              </div> */}\r\n              </div>\r\n              <div className='fv-row w-100 mb-10'>\r\n                <label className='d-flex align-items-center form-label'>\r\n                  <span className='required'>Last Name</span>\r\n                </label>\r\n\r\n                <input\r\n                  name='last_name'\r\n                  value={staff.last_name}\r\n                  className='form-control mb-2'\r\n                  placeholder={'Enter Last Name'}\r\n                  onChange={handleChange}\r\n                />\r\n                <div className='text-danger mt-2'>{/* <ErrorMessage name='last_name' /> */}</div>\r\n              </div>\r\n\r\n              <div className='fv-row w-100 mb-10'>\r\n                <label className='fs-6 fw-bold form-label required'>Email</label>\r\n\r\n                <input\r\n                  name='email'\r\n                  value={staff.email}\r\n                  onChange={handleChange}\r\n                  className='form-control mb-2'\r\n                  placeholder={'Enter Valid Email'}\r\n                  // validate={validateEmail}\r\n                />\r\n                {/* {errors.email ? (\r\n                <div className='text-danger mt-2'>{errors.email}</div>\r\n              ) : (\r\n                <div className='text-danger mt-2'>\r\n                  <ErrorMessage name='email' />\r\n                </div>\r\n              )} */}\r\n              </div>\r\n\r\n              <div className='fv-row w-100 mb-10'>\r\n                <label className='d-flex align-items-center form-label'>\r\n                  <span className='required'>Phone Number</span>\r\n                </label>\r\n\r\n                <input\r\n                  name='phone_number'\r\n                  type={'number'}\r\n                  value={staff.phone_number}\r\n                  onChange={handleChange}\r\n                  className='form-control mb-2'\r\n                  placeholder={'Enter Valid Phone Number'}\r\n                />\r\n                <div className='text-danger mt-2'>{/* <ErrorMessage name='phone_number' /> */}</div>\r\n              </div>\r\n\r\n              <div className='fv-row mb-10'>\r\n                <label className='d-flex align-items-center form-label'>\r\n                  <span className='required'>Password</span>\r\n                </label>\r\n                <div style={{flexDirection: 'row', display: 'flex'}} className='mb-2 gap-5'>\r\n                  <div className='position-relative w-100'>\r\n                    <input\r\n                      name='password'\r\n                      value={staff.password}\r\n                      onChange={handleChange}\r\n                      type={!showPassword ? 'password' : 'text'}\r\n                      className='form-control mb-2'\r\n                      placeholder={'Enter Strong Password Or Generate'}\r\n                    />\r\n                    <button\r\n                      type='button'\r\n                      onClick={() => setShowPassword(!showPassword)}\r\n                      className='btn btn-sm btn-icon position-absolute translate-middle top-50 end-0 me-n2'\r\n                      data-kt-password-meter-control='visibility'\r\n                    >\r\n                      {!showPassword ? (\r\n                        <i className='bi bi-eye-slash fs-2'></i>\r\n                      ) : (\r\n                        <i className='bi bi-eye fs-2'></i>\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                  <button\r\n                    type='button'\r\n                    className='btn btn-lg btn-light-primary w-50 p-0 fs-15'\r\n                    onClick={() => {\r\n                      setStaff({\r\n                        ...staff,\r\n                        password: Math.random()\r\n                          .toString(36)\r\n                          .slice(2),\r\n                      })\r\n                    }}\r\n                  >\r\n                    Generate Password\r\n                  </button>\r\n                </div>\r\n                <PasswordStrengthBar password={staff?.password} />\r\n                <div className='text-danger'>{/* <ErrorMessage name='password' /> */}</div>\r\n              </div>\r\n\r\n              <label className='form-check form-check-sm form-check-custom form-check-solid me-5 me-lg-15 mb-10'>\r\n                <input\r\n                  className='form-check-input'\r\n                  type='checkbox'\r\n                  name='admin'\r\n                  value={staff.admin}\r\n                  checked={staff.admin == 1}\r\n                  onChange={(e) => {\r\n                    setStaff({...staff, admin: e.target.checked ? 1 : 0})\r\n                  }}\r\n                />\r\n                <span className='form-check-label fs-15 fw-bold'>Administrator</span>\r\n              </label>\r\n\r\n              <div className='d-flex flex-stack mb-10'>\r\n                <div className='mr-2'></div>\r\n\r\n                <div>\r\n                  <button type='button' onClick={submit} className='btn btn-lg btn-primary me-3'>\r\n                    <span className='indicator-label'>\r\n                      Update\r\n                      {/* <KTSVG\r\n                        path='/media/icons/duotune/arrows/arr064.svg'\r\n                        className='svg-icon-3 ms-2 me-0'\r\n                      /> */}\r\n                    </span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className='col-xl-6'>\r\n        <div className={`card mb-5 mb-xxl-8`}>\r\n          {/* begin::Body */}\r\n          <div className='card-body pb-0'>\r\n            <div className='w-100'>\r\n              <div className='fv-row mb-10'>\r\n                <label className='form-label required'>Role</label>\r\n\r\n                <select\r\n                  name='role_id'\r\n                  className='form-select mb-2'\r\n                  data-control='select2'\r\n                  data-hide-search='true'\r\n                  data-placeholder='Select an option'\r\n                  // onChange={onSelect}\r\n                >\r\n                  {roles.map((item: any, i: any) => (\r\n                    <option key={i} value={item.id}>\r\n                      {item.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                {/* {values.role_id == null && <option></option>} */}\r\n\r\n                {/* <div className='text-danger mt-2'>\r\n          <ErrorMessage name='role_id' />\r\n        </div> */}\r\n              </div>\r\n\r\n              <div className='mb-10 fv-row'>\r\n                <label className='fw-bold fs-6 mb-2'>Permissions</label>\r\n                <div className='table-responsive'>\r\n                  <table className='table align-middle table-row-dashed fs-6 gy-5'>\r\n                    <tbody className='text-gray-600 fw-bold'>\r\n                      {permissions?.map((item: any, i) => (\r\n                        <tr key={i}>\r\n                          <td className='text-gray-800'>{item?.name}</td>\r\n                          <td style={{paddingLeft: 35}}>\r\n                            <div className='d-flex'>\r\n                              <label className='form-check form-check-sm form-check-custom form-check-solid me-5'>\r\n                                <input\r\n                                  className='form-check-input'\r\n                                  type='checkbox'\r\n                                  checked={\r\n                                    staff.permissions?.find((x: any) => x.permission_id == item.id)\r\n                                      ?.can_view\r\n                                  }\r\n                                  disabled={\r\n                                    staff.permissions?.find((x: any) => x.permission_id == item.id)\r\n                                      ?.can_view_own == true\r\n                                  }\r\n                                  name='can_view'\r\n                                  onChange={(e: any) => onCheckbox(e, item.id)}\r\n                                />\r\n                                <span className='form-check-label'>View</span>\r\n                              </label>\r\n                              <label className='form-check form-check-sm form-check-custom form-check-solid me-5'>\r\n                                <input\r\n                                  className='form-check-input'\r\n                                  type='checkbox'\r\n                                  checked={\r\n                                    staff.permissions?.find((x: any) => x.permission_id == item.id)\r\n                                      ?.can_view_own\r\n                                  }\r\n                                  name='can_view_own'\r\n                                  disabled={\r\n                                    staff.permissions?.find((x: any) => x.permission_id == item.id)\r\n                                      ?.can_view == true\r\n                                  }\r\n                                  onChange={(e: any) => onCheckbox(e, item.id)}\r\n                                />\r\n                                <span className='form-check-label'>View(Own)</span>\r\n                              </label>\r\n                              <label className='form-check form-check-sm form-check-custom form-check-solid me-5'>\r\n                                <input\r\n                                  className='form-check-input'\r\n                                  type='checkbox'\r\n                                  checked={\r\n                                    staff.permissions?.find((x: any) => x.permission_id == item.id)\r\n                                      ?.can_create\r\n                                  }\r\n                                  name='can_create'\r\n                                  onChange={(e: any) => onCheckbox(e, item.id)}\r\n                                />\r\n                                <span className='form-check-label'>Create</span>\r\n                              </label>\r\n                              <label className='form-check form-check-sm form-check-custom form-check-solid me-5'>\r\n                                <input\r\n                                  className='form-check-input'\r\n                                  type='checkbox'\r\n                                  checked={\r\n                                    staff.permissions?.find((x: any) => x.permission_id == item.id)\r\n                                      ?.can_edit\r\n                                  }\r\n                                  name='can_edit'\r\n                                  onChange={(e: any) => onCheckbox(e, item.id)}\r\n                                />\r\n                                <span className='form-check-label'>Edit</span>\r\n                              </label>\r\n                              <label className='form-check form-check-sm form-check-custom form-check-solid me-5'>\r\n                                <input\r\n                                  className='form-check-input'\r\n                                  type='checkbox'\r\n                                  checked={\r\n                                    staff.permissions?.find((x: any) => x.permission_id == item.id)\r\n                                      ?.can_delete\r\n                                  }\r\n                                  name='can_delete'\r\n                                  onChange={(e: any) => onCheckbox(e, item.id)}\r\n                                />\r\n                                <span className='form-check-label'>Delete</span>\r\n                              </label>\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n              <div className='d-flex flex-stack mb-10'>\r\n                <div className='mr-2'></div>\r\n                <div>\r\n                  <button type='button' onClick={submit} className='btn btn-lg btn-primary me-3'>\r\n                    <span className='indicator-label'>\r\n                      Update\r\n                      {/* <KTSVG\r\n                        path='/media/icons/duotune/arrows/arr064.svg'\r\n                        className='svg-icon-3 ms-2 me-0'\r\n                      /> */}\r\n                    </span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <ListsWidget5 className='mb-5 mb-xxl-8' />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, {useEffect, useState} from 'react'\r\nimport {isNotEmpty, KTSVG, QUERIES, toAbsoluteUrl} from '../../../_metronic/helpers'\r\nimport {Link} from 'react-router-dom'\r\nimport {Dropdown1} from '../../../_metronic/partials'\r\nimport {useLocation} from 'react-router-dom'\r\nimport {useAuth} from '../auth'\r\nimport {useQuery} from 'react-query'\r\nimport {getUserById} from '../../pages/staff-management/users-list/core/_requests'\r\n\r\ntype Props = {\r\n  staff: any\r\n}\r\n\r\nconst ProfileHeader: React.FC<Props> = ({staff}) => {\r\n  const location = useLocation()\r\n\r\n  return (\r\n    <div className='card mb-5 mb-xl-10'>\r\n      <div className='card-body pt-9 pb-0'>\r\n        <div className='d-flex flex-wrap flex-sm-nowrap mb-3'>\r\n          <div className='me-7 mb-4'>\r\n            <div className='symbol symbol-100px symbol-lg-160px symbol-fixed position-relative'>\r\n              <img\r\n                src={\r\n                  staff?.profile_image\r\n                    ? staff.profile_image\r\n                    : toAbsoluteUrl('/media/svg/avatars/blank.svg')\r\n                }\r\n                alt='user'\r\n              />\r\n              <div className='position-absolute translate-middle bottom-0 start-100 mb-6 bg-success rounded-circle border border-4 border-white h-20px w-20px'></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='flex-grow-1'>\r\n            <div className='d-flex justify-content-between align-items-start flex-wrap mb-2'>\r\n              <div className='d-flex flex-column'>\r\n                <div className='d-flex align-items-center mb-2'>\r\n                  <a className='text-gray-800 text-hover-primary fs-2 fw-bolder me-1'>\r\n                    {staff?.first_name} {staff?.last_name}\r\n                  </a>\r\n                  <a href='#'>\r\n                    <KTSVG\r\n                      path='/media/icons/duotune/general/gen026.svg'\r\n                      className='svg-icon-1 svg-icon-primary'\r\n                    />\r\n                  </a>\r\n                </div>\r\n\r\n                <div className='d-flex flex-wrap fw-bold fs-6 mb-4 pe-2'>\r\n                  <a\r\n                    href='#'\r\n                    className='d-flex align-items-center text-gray-400 text-hover-primary me-5 mb-2'\r\n                  >\r\n                    <KTSVG\r\n                      path='/media/icons/duotune/communication/com006.svg'\r\n                      className='svg-icon-4 me-1'\r\n                    />\r\n                    {staff?.admin == 1 ? 'admin' : ''}\r\n                  </a>\r\n                  <a\r\n                    href='#'\r\n                    className='d-flex align-items-center text-gray-400 text-hover-primary me-5 mb-2'\r\n                  >\r\n                    <KTSVG\r\n                      path='/media/icons/duotune/general/gen018.svg'\r\n                      className='svg-icon-4 me-1'\r\n                    />\r\n                    {staff?.phone_number}\r\n                  </a>\r\n                  <a\r\n                    href='#'\r\n                    className='d-flex align-items-center text-gray-400 text-hover-primary mb-2'\r\n                  >\r\n                    <KTSVG\r\n                      path='/media/icons/duotune/communication/com011.svg'\r\n                      className='svg-icon-4 me-1'\r\n                    />\r\n                    {staff?.email}\r\n                  </a>\r\n                </div>\r\n              </div>\r\n\r\n              <div className='d-flex my-4'>\r\n                {/* <a href='#' className='btn btn-sm btn-light me-2' id='kt_user_follow_button'>\r\n                  <KTSVG\r\n                    path='/media/icons/duotune/arrows/arr012.svg'\r\n                    className='svg-icon-3 d-none'\r\n                  />\r\n\r\n                  <span className='indicator-label'>Follow</span>\r\n                  <span className='indicator-progress'>\r\n                    Please wait...\r\n                    <span className='spinner-border spinner-border-sm align-middle ms-2'></span>\r\n                  </span>\r\n                </a>\r\n                <a\r\n                  href='#'\r\n                  className='btn btn-sm btn-primary me-3'\r\n                  data-bs-toggle='modal'\r\n                  data-bs-target='#kt_modal_offer_a_deal'\r\n                >\r\n                  Hire Me\r\n                </a> */}\r\n                <div className='me-0'>\r\n                  <button\r\n                    className='btn btn-sm btn-icon btn-bg-light btn-active-color-primary'\r\n                    data-kt-menu-trigger='click'\r\n                    data-kt-menu-placement='bottom-end'\r\n                    data-kt-menu-flip='top-end'\r\n                  >\r\n                    <i className='bi bi-three-dots fs-3'></i>\r\n                  </button>\r\n                  <Dropdown1 />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className='d-flex flex-wrap flex-stack'>\r\n              {/* <div className='d-flex flex-column flex-grow-1 pe-8'>\r\n                <div className='d-flex flex-wrap'>\r\n                  <div className='border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3'>\r\n                    <div className='d-flex align-items-center'>\r\n                      <KTSVG\r\n                        path='/media/icons/duotune/arrows/arr066.svg'\r\n                        className='svg-icon-3 svg-icon-success me-2'\r\n                      />\r\n                      <div className='fs-2 fw-bolder'>4500$</div>\r\n                    </div>\r\n\r\n                    <div className='fw-bold fs-6 text-gray-400'>Earnings</div>\r\n                  </div>\r\n\r\n                  <div className='border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3'>\r\n                    <div className='d-flex align-items-center'>\r\n                      <KTSVG\r\n                        path='/media/icons/duotune/arrows/arr065.svg'\r\n                        className='svg-icon-3 svg-icon-danger me-2'\r\n                      />\r\n                      <div className='fs-2 fw-bolder'>75</div>\r\n                    </div>\r\n\r\n                    <div className='fw-bold fs-6 text-gray-400'>Projects</div>\r\n                  </div>\r\n\r\n                  <div className='border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3'>\r\n                    <div className='d-flex align-items-center'>\r\n                      <KTSVG\r\n                        path='/media/icons/duotune/arrows/arr066.svg'\r\n                        className='svg-icon-3 svg-icon-success me-2'\r\n                      />\r\n                      <div className='fs-2 fw-bolder'>60%</div>\r\n                    </div>\r\n\r\n                    <div className='fw-bold fs-6 text-gray-400'>Success Rate</div>\r\n                  </div>\r\n                </div>\r\n              </div> */}\r\n\r\n              <div className='d-flex align-items-center w-200px w-sm-300px flex-column mt-3'>\r\n                <div className='d-flex justify-content-between w-100 mt-auto mb-2'>\r\n                  <span className='fw-bold fs-6 text-gray-400'>Profile Compleation</span>\r\n                  <span className='fw-bolder fs-6'>50%</span>\r\n                </div>\r\n                <div className='h-5px mx-3 w-100 bg-light mb-3'>\r\n                  <div\r\n                    className='bg-success rounded h-5px'\r\n                    role='progressbar'\r\n                    style={{width: '50%'}}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* <div className='d-flex overflow-auto h-55px'>\r\n          <ul className='nav nav-stretch nav-line-tabs nav-line-tabs-2x border-transparent fs-5 fw-bolder flex-nowrap'>\r\n            <li className='nav-item'>\r\n              <Link\r\n                className={\r\n                  `nav-link text-active-primary me-6 ` +\r\n                  (location.pathname === '/crafted/pages/profile/overview' && 'active')\r\n                }\r\n                to='/crafted/pages/profile/overview'\r\n              >\r\n                Overview\r\n              </Link>\r\n            </li>\r\n            <li className='nav-item'>\r\n              <Link\r\n                className={\r\n                  `nav-link text-active-primary me-6 ` +\r\n                  (location.pathname === '/crafted/pages/profile/projects' && 'active')\r\n                }\r\n                to='/crafted/pages/profile/projects'\r\n              >\r\n                Projects\r\n              </Link>\r\n            </li>\r\n            <li className='nav-item'>\r\n              <Link\r\n                className={\r\n                  `nav-link text-active-primary me-6 ` +\r\n                  (location.pathname === '/crafted/pages/profile/campaigns' && 'active')\r\n                }\r\n                to='/crafted/pages/profile/campaigns'\r\n              >\r\n                Campaigns\r\n              </Link>\r\n            </li>\r\n            <li className='nav-item'>\r\n              <Link\r\n                className={\r\n                  `nav-link text-active-primary me-6 ` +\r\n                  (location.pathname === '/crafted/pages/profile/documents' && 'active')\r\n                }\r\n                to='/crafted/pages/profile/documents'\r\n              >\r\n                Documents\r\n              </Link>\r\n            </li>\r\n            <li className='nav-item'>\r\n              <Link\r\n                className={\r\n                  `nav-link text-active-primary me-6 ` +\r\n                  (location.pathname === '/crafted/pages/profile/connections' && 'active')\r\n                }\r\n                to='/crafted/pages/profile/connections'\r\n              >\r\n                Connections\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div> */}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport {ProfileHeader}\r\n","import {Navigate, Routes, Route, Outlet} from 'react-router-dom'\r\nimport {PageLink, PageTitle} from '../../../_metronic/layout/core'\r\nimport {Overview} from './components/Overview'\r\nimport {Projects} from './components/Projects'\r\nimport {Campaigns} from './components/Campaigns'\r\nimport {Documents} from './components/Documents'\r\nimport {Connections} from './components/Connections'\r\nimport {ProfileHeader} from './ProfileHeader'\r\nimport {useEffect, useState} from 'react'\r\nimport {useAuth} from '../auth'\r\nimport {isNotEmpty, QUERIES} from '../../../_metronic/helpers'\r\nimport {useQuery} from 'react-query'\r\nimport {getUserById} from '../../pages/staff-management/users-list/core/_requests'\r\n\r\nconst profileBreadCrumbs: Array<PageLink> = [\r\n  {\r\n    title: 'Profile',\r\n    path: '/crafted/pages/profile/overview',\r\n    isSeparator: false,\r\n    isActive: false,\r\n  },\r\n  {\r\n    title: '',\r\n    path: '',\r\n    isSeparator: true,\r\n    isActive: false,\r\n  },\r\n]\r\n\r\nconst ProfilePage = () => {\r\n  const {currentUser, logout} = useAuth()\r\n  const enabledQuery: boolean = isNotEmpty(currentUser?.id)\r\n  const [staff, setStaff] = useState<any>()\r\n\r\n  const {isLoading, data: staffs, error} = useQuery(\r\n    `${QUERIES.USERS_LIST}-permissions-${currentUser?.id}`,\r\n    () => {\r\n      return getUserById(currentUser?.id)\r\n    },\r\n    {\r\n      cacheTime: 0,\r\n      enabled: enabledQuery,\r\n      onError: (err) => {\r\n        console.error(err)\r\n      },\r\n    }\r\n  )\r\n  useEffect(() => {\r\n    if (staffs?.id) setStaff(staffs)\r\n  }, [staffs])\r\n\r\n  return (\r\n    <Routes>\r\n      <Route\r\n        element={\r\n          <>\r\n            <ProfileHeader staff={staffs} />\r\n            <Outlet />\r\n          </>\r\n        }\r\n      >\r\n        {staff && (\r\n          <Route\r\n            path='overview'\r\n            element={\r\n              <>\r\n                <PageTitle breadcrumbs={profileBreadCrumbs}>Update Profile</PageTitle>\r\n                <Overview staff={staff} setStaff={setStaff} />\r\n              </>\r\n            }\r\n          />\r\n        )}\r\n        {/* <Route\r\n          path='projects'\r\n          element={\r\n            <>\r\n              <PageTitle breadcrumbs={profileBreadCrumbs}>Projects</PageTitle>\r\n              <Projects />\r\n            </>\r\n          }\r\n        />\r\n        <Route\r\n          path='campaigns'\r\n          element={\r\n            <>\r\n              <PageTitle breadcrumbs={profileBreadCrumbs}>Campaigns</PageTitle>\r\n              <Campaigns />\r\n            </>\r\n          }\r\n        />\r\n        <Route\r\n          path='documents'\r\n          element={\r\n            <>\r\n              <PageTitle breadcrumbs={profileBreadCrumbs}>Documents</PageTitle>\r\n              <Documents />\r\n            </>\r\n          }\r\n        />\r\n        <Route\r\n          path='connections'\r\n          element={\r\n            <>\r\n              <PageTitle breadcrumbs={profileBreadCrumbs}>Connections</PageTitle>\r\n              <Connections />\r\n            </>\r\n          }\r\n        /> */}\r\n        <Route index element={<Navigate to='/crafted/pages/profile/overview' />} />\r\n      </Route>\r\n    </Routes>\r\n  )\r\n}\r\n\r\nexport default ProfilePage\r\n","import axios, {AxiosResponse} from 'axios'\r\nimport {ID, Response} from '../../../../../_metronic/helpers'\r\nimport {Role, PermissionQueryResponse} from './_models'\r\n\r\n// const API_URL = process.env.REACT_APP_THEME_API_URL\r\nconst API_URL = 'https://quiz.datacubeindia.com/common'\r\nconst ROLE_URL = `${API_URL}/staff`\r\n\r\nconst getUsers = (query: string): Promise<PermissionQueryResponse> => {\r\n  return axios\r\n    .get(`${ROLE_URL}?${query}`)\r\n    .then((d: AxiosResponse<PermissionQueryResponse>) => d.data)\r\n}\r\n\r\nconst getRoles = (): Promise<PermissionQueryResponse> => {\r\n  return axios.get(`${ROLE_URL}/roles`).then((d: AxiosResponse<PermissionQueryResponse>) => d.data)\r\n}\r\n\r\nconst getPermissions = (): Promise<PermissionQueryResponse> => {\r\n  return axios\r\n    .get(`${API_URL}/role/permissions`)\r\n    .then((d: AxiosResponse<PermissionQueryResponse>) => d.data)\r\n}\r\n\r\nconst checkEmail = (email: string): Promise<PermissionQueryResponse> => {\r\n  return axios\r\n    .get(`${ROLE_URL}/checkEmail?email=${email}`)\r\n    .then((d: AxiosResponse<PermissionQueryResponse>) => d.data)\r\n}\r\n\r\nconst getUserById = (id: ID): Promise<Role | undefined> => {\r\n  return axios\r\n    .get(`${ROLE_URL}/${id}`)\r\n    .then((response: AxiosResponse<Response<Role>>) => response.data)\r\n    .then((response: Response<Role>) => response.data)\r\n}\r\n\r\nconst createUser = (role: Role): Promise<Role | undefined> => {\r\n  const fd = new FormData()\r\n  const admin: any = role.admin\r\n  fd.append('first_name', role.first_name)\r\n  fd.append('last_name', role.last_name)\r\n  fd.append('email', role.email)\r\n  fd.append('phone_number', role.phone_number)\r\n  fd.append('password', role.password)\r\n  fd.append('profile_image', role.profile_image)\r\n  fd.append('admin', admin)\r\n  fd.append('role_id', role.role_id)\r\n  fd.append('permissions', JSON.stringify(role.permissions))\r\n  return axios\r\n    .post(ROLE_URL, fd)\r\n    .then((response: AxiosResponse<Response<Role>>) => response.data)\r\n    .then((response: Response<Role>) => response.data)\r\n}\r\n\r\nconst updateUser = (role: Role): Promise<Role | undefined> => {\r\n  const fd = new FormData()\r\n  const admin: any = role.admin\r\n  fd.append('first_name', role.first_name)\r\n  fd.append('last_name', role.last_name)\r\n  fd.append('email', role.email)\r\n  fd.append('phone_number', role.phone_number)\r\n  fd.append('password', role.password)\r\n  fd.append('profile_image', role.profile_image)\r\n  fd.append('admin', admin)\r\n  fd.append('role_id', role.role_id)\r\n  fd.append('permissions', JSON.stringify(role.permissions))\r\n  return axios\r\n    .put(`${ROLE_URL}/${role.id}`, fd)\r\n    .then((response: AxiosResponse<Response<Role>>) => response.data)\r\n    .then((response: Response<Role>) => response.data)\r\n}\r\n\r\nconst deleteUser = (userId: ID): Promise<void> => {\r\n  return axios.delete(`${ROLE_URL}/${userId}`).then(() => {})\r\n}\r\n\r\nconst deleteSelectedUsers = (userIds: Array<ID>): Promise<void> => {\r\n  const requests = userIds.map((id) => axios.delete(`${ROLE_URL}/${id}`))\r\n  return axios.all(requests).then(() => {})\r\n}\r\n\r\nexport {\r\n  getUsers,\r\n  deleteUser,\r\n  deleteSelectedUsers,\r\n  getUserById,\r\n  createUser,\r\n  updateUser,\r\n  getPermissions,\r\n  getRoles,\r\n  checkEmail,\r\n}\r\n"],"names":["Overview","staff","setStaff","console","log","useState","showPassword","setShowPassword","useAuth","saveAuth","setCurrentUser","auth","permissions","setPermissions","roles","setRoles","setSelectedRole","useEffect","getPermissions","then","data","newData","catch","err","getRoles","role_id","find","x","id","handleChange","e","target","name","value","submit","updateUser","Swal","title","text","icon","confirmButtonText","onCheckbox","checked","perm","index","findIndex","permission_id","push","can_view","can_view_own","can_create","can_edit","can_delete","className","src","profile_image","URL","createObjectURL","toAbsoluteUrl","alt","type","accept","onChange","currentTarget","files","onClick","first_name","placeholder","last_name","email","phone_number","style","flexDirection","display","password","Math","random","toString","slice","admin","map","item","i","paddingLeft","disabled","ProfileHeader","useLocation","href","path","role","width","profileBreadCrumbs","isSeparator","isActive","currentUser","enabledQuery","logout","isNotEmpty","useQuery","QUERIES","getUserById","cacheTime","enabled","onError","error","staffs","isLoading","element","breadcrumbs","to","API_URL","ROLE_URL","getUsers","query","axios","d","checkEmail","response","createUser","fd","FormData","append","JSON","stringify","deleteUser","userId","deleteSelectedUsers","userIds","requests"],"sourceRoot":""}