"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[359],{1359:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ot}});var r=n(6871),a=n(4880),s=n(885),c=n(2791),i=n(2930),o=n(1413),l=n(1933),u=n(4569),d=n.n(u),m="https://quiz.datacubeindia.com/common/courseCategory",f=function(e,t){return d().put("".concat(m,"/").concat(t),e).then((function(e){return e.data})).then((function(e){return e.data}))},x=n(184),p=(0,c.createContext)(i.vv),h=function(e){var t=e.children,n=(0,c.useState)(i.vv.state),r=(0,s.Z)(n,2),a=r[0],l=r[1];return(0,x.jsx)(p.Provider,{value:{state:a,updateState:function(e){var t=(0,o.Z)((0,o.Z)({},a),e);l(t)}},children:t})},v=function(){return(0,c.useContext)(p)},j=(0,i.gl)(i.B2),g=function(e){var t=e.children,n=v().state,r=(0,c.useState)((0,i.gJ)(n)),a=(0,s.Z)(r,2),o=a[0],u=a[1],f=(0,c.useMemo)((function(){return(0,i.gJ)(n)}),[n]);(0,c.useEffect)((function(){o!==f&&u(f)}),[f]);var p=(0,l.useQuery)("".concat(i.vb.USERS_LIST,"-").concat(o),(function(){return function(e){return d().get("".concat(m,"?").concat(e)).then((function(e){return e.data}))}(o)}),{cacheTime:0,keepPreviousData:!0,refetchOnWindowFocus:!1}),h=p.isFetching,g=p.refetch,b=p.data;return(0,x.jsx)(j.Provider,{value:{isLoading:h,refetch:g,response:b,query:o},children:t})},b=function(){return(0,c.useContext)(j)},N=function(){var e=b().response;return e&&(null===e||void 0===e?void 0:e.data)||[]},k=function(){return b().isLoading},y=(0,c.createContext)(i.px),w=function(e){var t=e.children,n=(0,c.useState)(i.px.selected),r=(0,s.Z)(n,2),a=r[0],o=r[1],l=(0,c.useState)(i.px.itemIdForUpdate),u=(0,s.Z)(l,2),d=u[0],m=u[1],f=b().isLoading,p=N(),h=(0,c.useMemo)((function(){return(0,i.Qx)(f,p)}),[f,p]),v=(0,c.useMemo)((function(){return(0,i.HX)(p,a)}),[p,a]);return(0,x.jsx)(y.Provider,{value:{selected:a,itemIdForUpdate:d,setItemIdForUpdate:m,disabled:h,isAllSelected:v,onSelect:function(e){(0,i.G8)(e,a,o)},onSelectAll:function(){(0,i.ir)(v,o,p)},clearSelected:function(){o([])}},children:t})},Z=function(){return(0,c.useContext)(y)},S=n(8472),C=function(e){var t=e.csvData,n=e.fileName;return(0,x.jsxs)("button",{type:"button",className:"btn btn-light-primary me-3",children:[(0,x.jsx)(i.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),(0,x.jsx)(S.CSVLink,{data:t,filename:n,children:"Export"})]})},_=n(6492),F=function(){var e=v().updateState,t=b().isLoading,n=(0,c.useState)(),r=(0,s.Z)(n,2),a=r[0],l=r[1],u=(0,c.useState)(),d=(0,s.Z)(u,2),m=d[0],f=d[1];(0,c.useEffect)((function(){_.Mn.reinitialization()}),[]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("button",{disabled:t,type:"button",className:"btn btn-light-primary me-3","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:[(0,x.jsx)(i.D8,{path:"/media/icons/duotune/general/gen031.svg",className:"svg-icon-2"}),"Filter"]}),(0,x.jsxs)("div",{className:"menu menu-sub menu-sub-dropdown w-300px w-md-325px","data-kt-menu":"true",children:[(0,x.jsx)("div",{className:"px-7 py-5",children:(0,x.jsx)("div",{className:"fs-5 text-dark fw-bolder",children:"Filter Options"})}),(0,x.jsx)("div",{className:"separator border-gray-200"}),(0,x.jsxs)("div",{className:"px-7 py-5","data-kt-user-table-filter":"form",children:[(0,x.jsxs)("div",{className:"mb-10",children:[(0,x.jsx)("label",{className:"form-label fs-6 fw-bold",children:"Question Type:"}),(0,x.jsxs)("select",{className:"form-select form-select-solid fw-bolder","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true","data-kt-user-table-filter":"role","data-hide-search":"true",onChange:function(e){return l(e.target.value)},value:a,children:[(0,x.jsx)("option",{value:""}),(0,x.jsx)("option",{value:"Objective",children:"Objective"}),(0,x.jsx)("option",{value:"True/False",children:"True/False"}),(0,x.jsx)("option",{value:"Fill In The Blanks",children:"Fill In The Blanks"}),(0,x.jsx)("option",{value:"Subjective",children:"Subjective"})]})]}),(0,x.jsxs)("div",{className:"mb-10",children:[(0,x.jsx)("label",{className:"form-label fs-6 fw-bold",children:"Difficulty Level:"}),(0,x.jsxs)("select",{className:"form-select form-select-solid fw-bolder","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true","data-kt-user-table-filter":"two-step","data-hide-search":"true",onChange:function(e){return f(e.target.value)},value:m,children:[(0,x.jsx)("option",{value:""}),(0,x.jsx)("option",{value:"Easy",children:"Easy"}),(0,x.jsx)("option",{value:"Moderate",children:"Moderate"}),(0,x.jsx)("option",{value:"Difficult",children:"Difficult"})]})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,x.jsx)("button",{type:"button",disabled:t,onClick:function(){e((0,o.Z)({filter:void 0},i.Xw)),l(""),f("")},className:"btn btn-light btn-active-light-primary fw-bold me-2 px-6","data-kt-menu-dismiss":"true","data-kt-user-table-filter":"reset",children:"Reset"}),(0,x.jsx)("button",{disabled:t,type:"button",onClick:function(){e((0,o.Z)({filter:{question_type:a,level:m}},i.Xw))},className:"btn btn-primary fw-bold px-6","data-kt-menu-dismiss":"true","data-kt-user-table-filter":"filter",children:"Apply"})]})]})]})]})},I=function(){var e=N(),t=Z().setItemIdForUpdate;return(0,x.jsxs)("div",{className:"d-flex justify-content-end","data-kt-user-table-toolbar":"base",children:[(0,x.jsx)(F,{}),(0,x.jsx)(C,{csvData:e,fileName:"categories"}),(0,x.jsxs)("button",{onClick:function(){t(null)},className:"btn btn-primary",children:[(0,x.jsx)(i.D8,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"}),"Add Course Category"]})]})},P=n(4165),T=n(5861),U=function(){var e=Z(),t=e.selected,n=e.clearSelected,r=(0,l.useQueryClient)(),a=b().query,s=(0,l.useMutation)((function(){return function(e){var t=e.map((function(e){return d().delete("".concat(m,"/").concat(e))}));return d().all(t).then((function(){}))}(t)}),{onSuccess:function(){r.invalidateQueries(["".concat(i.vb.USERS_LIST,"-").concat(a)]),n()}});return(0,x.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[(0,x.jsxs)("div",{className:"fw-bolder me-5",children:[(0,x.jsx)("span",{className:"me-2",children:t.length})," Selected"]}),(0,x.jsx)("button",{type:"button",className:"btn btn-danger",onClick:(0,T.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Delete Selected"})]})},E=function(){var e=v().updateState,t=(0,c.useState)(""),n=(0,s.Z)(t,2),r=n[0],a=n[1],l=(0,i.Nr)(r,150);return(0,c.useEffect)((function(){void 0!==l&&void 0!==r&&e((0,o.Z)({search:l},i.Xw))}),[l]),(0,x.jsx)("div",{className:"card-title",children:(0,x.jsxs)("div",{className:"d-flex align-items-center position-relative my-1",children:[(0,x.jsx)(i.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-1 position-absolute ms-6"}),(0,x.jsx)("input",{type:"text","data-kt-user-table-filter":"search",className:"form-control form-control-solid w-250px ps-14",placeholder:"Search Categories",value:r,onChange:function(e){return a(e.target.value)}})]})})},A=function(){var e=Z().selected;return(0,x.jsxs)("div",{className:"card-header border-0 pt-6",children:[(0,x.jsx)(E,{}),(0,x.jsx)("div",{className:"card-toolbar",children:e.length>0?(0,x.jsx)(U,{}):(0,x.jsx)(I,{})})]})},L=n(1358),H=function(e){var t=e.column;return(0,x.jsx)(x.Fragment,{children:t.Header&&"string"===typeof t.Header?(0,x.jsx)("th",(0,o.Z)((0,o.Z)({},t.getHeaderProps()),{},{children:t.render("Header")})):t.render("Header")})},M=n(8182),q=function(e){var t=e.row;return(0,x.jsx)("tr",(0,o.Z)((0,o.Z)({},t.getRowProps()),{},{children:t.cells.map((function(e){return(0,x.jsx)("td",(0,o.Z)((0,o.Z)({},e.getCellProps()),{},{className:(0,M.Z)({"text-end min-w-100px":"actions"===e.column.id}),children:e.render("Cell")}))}))}))},O=function(e){var t=e.user;console.log(t,"user");var n=Z().setItemIdForUpdate;return(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("div",{className:"d-flex flex-column",children:(0,x.jsx)("a",{onClick:function(){n(t.id)},style:{cursor:"pointer"},className:"text-gray-800 text-hover-primary mb-1",children:t.course_category})})})},D=function(e){var t=e.image;return(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("img",{className:"d-flex flex-column",src:t,style:{height:30,width:30,borderRadius:60}})})},R=n(1830),B=n.n(R),Q=function(e){var t=e.status,n=e.id,r=(0,c.useState)(t),a=(0,s.Z)(r,2),i=a[0],o=a[1];return(0,x.jsxs)(x.Fragment,{children:[" ",(0,x.jsx)("label",{className:"form-check form-check-custom form-check-solid form-switch mb-5",children:(0,x.jsx)("input",{className:"form-check-input",type:"checkbox",name:"status",checked:i,onChange:function(){var e=(0,T.Z)((0,P.Z)().mark((function e(t){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t.currentTarget.checked),e.next=3,f({status:t.currentTarget.checked?1:0},n);case 3:B().fire({title:"Success!",text:"Status updated successfully!",icon:"success",confirmButtonText:"Okay"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})]})},X=function(e){var t=e.id,n=Z().setItemIdForUpdate,r=b().query,a=(0,l.useQueryClient)();(0,c.useEffect)((function(){_.Mn.reinitialization()}),[]);var s=(0,l.useMutation)((function(){return e=t,d().delete("".concat(m,"/").concat(e)).then((function(){}));var e}),{onSuccess:function(){a.invalidateQueries(["".concat(i.vb.USERS_LIST,"-").concat(r)])}});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("a",{href:"#",className:"btn btn-light btn-active-light-primary btn-sm","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:(0,x.jsx)("i",{className:"bi bi-three-dots-vertical fs-5"})}),(0,x.jsxs)("div",{className:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold fs-7 w-125px py-4","data-kt-menu":"true",children:[(0,x.jsx)("div",{className:"menu-item px-3",children:(0,x.jsx)("a",{className:"menu-link px-3",onClick:function(){n(t)},children:"Edit"})}),(0,x.jsx)("div",{className:"menu-item px-3",children:(0,x.jsx)("a",{className:"menu-link px-3","data-kt-users-table-filter":"delete_row",onClick:(0,T.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Delete"})})]})]})},V=function(e){var t=e.id,n=Z(),r=n.selected,a=n.onSelect,s=(0,c.useMemo)((function(){return r.includes(t)}),[t,r]);return(0,x.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid",children:(0,x.jsx)("input",{className:"form-check-input",type:"checkbox","data-kt-check":s,"data-kt-check-target":"#kt_table_users .form-check-input",checked:s,onChange:function(){return a(t)}})})},W=function(e){var t=e.className,n=e.title,r=e.tableProps,a=r.column.id,s=v(),l=s.state,u=s.updateState,d=(0,c.useMemo)((function(){return l.sort&&l.sort===a}),[l,a]),m=(0,c.useMemo)((function(){return l.order}),[l]);return(0,x.jsx)("th",(0,o.Z)((0,o.Z)({},r.column.getHeaderProps()),{},{className:(0,M.Z)(t,d&&void 0!==m&&"table-sort-".concat(m)),style:{cursor:"pointer"},onClick:function(){if("actions"!==a&&"selection"!==a)if(d){if(d&&void 0!==m){if("asc"===m)return void u((0,o.Z)({sort:a,order:"desc"},i.Xw));u((0,o.Z)({sort:void 0,order:void 0},i.Xw))}}else u((0,o.Z)({sort:a,order:"asc"},i.Xw))},children:n}))},z=function(e){var t=e.tableProps,n=Z(),r=n.isAllSelected,a=n.onSelectAll;return(0,x.jsx)("th",(0,o.Z)((0,o.Z)({},t.column.getHeaderProps()),{},{className:"w-10px pe-2",children:(0,x.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid me-3",children:(0,x.jsx)("input",{className:"form-check-input",type:"checkbox","data-kt-check":r,"data-kt-check-target":"#kt_table_users .form-check-input",checked:r,onChange:a})})}))},J="https://quiz.datacubeindia.com/common/course",G=function(e,t){return d().put("".concat(J,"/").concat(t),e).then((function(e){return e.data})).then((function(e){return e.data}))},Y=(0,c.createContext)({allCourses:[],allCategories:[]}),K=function(e){var t=e.children,n=(0,c.useState)(),r=(0,s.Z)(n,2),a=r[0],i=r[1],o=(0,c.useState)(),l=(0,s.Z)(o,2),u=l[0],f=l[1];(0,c.useEffect)((function(){p()}),[]);var p=function(){var e=(0,T.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get("".concat(J)).then((function(e){return e.data})).then((function(e){i(e)})).catch((function(e){console.log(e)}));case 2:return e.next=4,d().get("".concat(m,"/getAll")).then((function(e){return e.data})).then((function(e){f(e)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsx)(Y.Provider,{value:{allCourses:a,allCategories:u},children:t})},$=function(){return(0,c.useContext)(Y)},ee=function(e){var t,n=e.course_id,r=$().allCourses,a=null===r||void 0===r||null===(t=r.find((function(e){return e.id==n})))||void 0===t?void 0:t.course_name;return(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("div",{className:"d-flex flex-column",children:a})})},te=[{Header:function(e){return(0,x.jsx)(z,{tableProps:e})},id:"selection",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(V,{id:t.data[t.row.index].id})}},{Header:function(e){return(0,x.jsx)(W,{tableProps:e,title:"course",className:"min-w-125px"})},id:"course",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(ee,{course_id:t.data[t.row.index].course_id})}},{Header:function(e){return(0,x.jsx)(W,{tableProps:e,title:"Course category",className:"min-w-125px"})},id:"course_category",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(O,{user:t.data[t.row.index]})}},{Header:function(e){return(0,x.jsx)(W,{tableProps:e,title:"slug",className:"min-w-125px"})},accessor:"slug"},{Header:function(e){return(0,x.jsx)(W,{tableProps:e,title:"image",className:"min-w-125px"})},id:"co-image",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(D,{image:t.data[t.row.index].image})}},{Header:function(e){return(0,x.jsx)(W,{tableProps:e,title:"Position",className:"min-w-125px"})},accessor:"position"},{Header:function(e){return(0,x.jsx)(W,{tableProps:e,title:"Active",className:"min-w-125px"})},id:"active",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(Q,{status:t.data[t.row.index].status,id:t.data[t.row.index].id})}},{Header:function(e){return(0,x.jsx)(W,{tableProps:e,title:"Actions",className:"text-end min-w-100px"})},id:"actions",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(X,{id:t.data[t.row.index].id})}}],ne=function(){return(0,x.jsx)("div",{style:(0,o.Z)((0,o.Z)({},{borderRadius:"0.475rem",boxShadow:"0 0 50px 0 rgb(82 63 105 / 15%)",backgroundColor:"#fff",color:"#7e8299",fontWeight:"500",margin:"0",width:"auto",padding:"1rem 2rem",top:"calc(50% - 2rem)",left:"calc(50% - 4rem)"}),{},{position:"absolute",textAlign:"center"}),children:"Processing..."})},re=function(){var e,t=function(){var e=(0,o.Z)({links:[]},i.Xw),t=b().response;return t&&t.payload&&t.payload.pagination?t.payload.pagination:e}(),n=k(),r=v().updateState;return(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-sm-12 col-md-5 d-flex align-items-center justify-content-center justify-content-md-start"}),(0,x.jsx)("div",{className:"col-sm-12 col-md-7 d-flex align-items-center justify-content-center justify-content-md-end",children:(0,x.jsx)("div",{id:"kt_table_users_paginate",children:(0,x.jsx)("ul",{className:"pagination",children:null===(e=t.links)||void 0===e?void 0:e.map((function(e){return(0,x.jsx)("li",{className:(0,M.Z)("page-item",{active:t.page===e.page,disabled:n,previous:"&laquo; Previous"===e.label,next:"Next &raquo;"===e.label}),children:(0,x.jsx)("a",{className:"page-link",onClick:function(){var a;(a=e.page)&&!n&&t.page!==a&&r({page:a,items_per_page:t.items_per_page||10})},dangerouslySetInnerHTML:{__html:e.label},style:{cursor:"pointer"}})},e.label)}))})})})]})},ae=function(){var e=N(),t=k(),n=(0,c.useMemo)((function(){return e}),[e]),r=(0,c.useMemo)((function(){return te}),[]),a=(0,L.useTable)({columns:r,data:n}),s=a.getTableProps,l=a.getTableBodyProps,u=a.headers,d=a.rows,m=a.prepareRow;return(0,x.jsxs)(i.mN,{className:"py-4",children:[(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",(0,o.Z)((0,o.Z)({id:"kt_table_users",className:"table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer"},s()),{},{children:[(0,x.jsx)("thead",{children:(0,x.jsx)("tr",{className:"text-start text-muted fw-bolder fs-7 text-uppercase gs-0",children:u.map((function(e){return(0,x.jsx)(H,{column:e},e.id)}))})}),(0,x.jsx)("tbody",(0,o.Z)((0,o.Z)({className:"text-gray-600 fw-bold"},l()),{},{children:d.length>0?d.map((function(e,t){return m(e),(0,x.jsx)(q,{row:e},"row-".concat(t,"-").concat(e.id))})):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:7,children:(0,x.jsx)("div",{className:"d-flex text-center w-100 align-content-center justify-content-center",children:"No matching records found"})})})}))]}))}),(0,x.jsx)(re,{}),t&&(0,x.jsx)(ne,{})]})},se=function(){var e=Z().setItemIdForUpdate;return(0,x.jsxs)("div",{className:"modal-header",children:[(0,x.jsx)("h2",{className:"fw-bolder",children:"Add Course Category"}),(0,x.jsx)("div",{className:"btn btn-icon btn-sm btn-active-icon-primary","data-kt-users-modal-action":"close",onClick:function(){return e(void 0)},style:{cursor:"pointer"},children:(0,x.jsx)(i.D8,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-1"})})]})},ce=n(5173),ie=n(6863),oe=[ie.Ry().shape({course_category:ie.Z_().required("Course Category is required"),slug:ie.Z_().required("Slug is required"),position:ie.Rx().required("Category position is required"),course_id:ie.Rx().required("Course is required")})],le={id:void 0,course_id:void 0,course_category:"",slug:"",image:void 0,position:void 0},ue=n(8922),de=function(e){var t=e.role,n=e.isUserLoading,r=Z().setItemIdForUpdate,a=b().refetch,l=(0,c.useState)(oe[0]),u=(0,s.Z)(l,2),f=u[0],p=(u[1],$().allCourses),h=(0,c.useState)((0,o.Z)((0,o.Z)({},t),{},{id:t.id||le.id,course_id:t.course_id||le.course_id,course_category:t.course_category||le.course_category,slug:t.slug||le.slug,image:t.image||le.image,position:t.position||le.position})),v=(0,s.Z)(h,2),j=v[0],g=v[1];(0,c.useRef)(null);(0,c.useEffect)((function(){console.log(j,"roleforedit")}),[j]);var N=function(){var e=(0,T.Z)((0,P.Z)().mark((function e(t,n){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.image=j.image,e.next=4,s=t,d().post(m,s).then((function(e){return e.data})).then((function(e){return e.data}));case 4:n.resetForm(),!0&&a(),r(void 0),B().fire({title:"Success!",text:"Sponsorship Program Updated!",icon:"success",confirmButtonText:"Okay"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}var s}),e,null,[[0,9,12,14]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=(0,T.Z)((0,P.Z)().mark((function e(t){var n,r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.files[0],(r=new FormData).append("image",n),e.next=5,d().post("".concat(ue.T,"/upload"),r).then((function(e){g((0,o.Z)((0,o.Z)({},j),{},{image:e.data}))})).catch((function(e){console.log(e,"err")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"stepper stepper-links d-flex flex-column",id:"kt_create_account_stepper",children:(0,x.jsx)(ce.J9,{validationSchema:f,initialValues:j,onSubmit:N,validateOnChange:!1,children:function(e){var t=e.setFieldValue;e.values,e.touched,e.setFieldError,e.errors;return(0,x.jsxs)(ce.l0,{className:"mx-auto mw-700px w-100 pt-5 pb-10",id:"kt_create_account_form",children:[(0,x.jsxs)("div",{className:"fv-row mb-7",children:[(0,x.jsx)("label",{className:"d-block form-label",children:"Category Image"}),(0,x.jsxs)("div",{className:"image-input image-input-outline","data-kt-image-input":"true",children:[(0,x.jsx)("div",{className:"",children:(0,x.jsx)("img",{src:null==(null===j||void 0===j?void 0:j.image)||""==(null===j||void 0===j?void 0:j.image)?(0,i.BY)("/media/svg/avatars/blank.svg"):null===j||void 0===j?void 0:j.image,alt:"avatar",className:"image-input-wrapper w-125px h-125px"})}),(0,x.jsxs)("label",{className:"btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow","data-kt-image-input-action":"change","data-bs-toggle":"tooltip",title:"Change avatar",children:[(0,x.jsx)("i",{className:"bi bi-pencil-fill fs-7"}),(0,x.jsx)("input",{type:"file",name:"profile_image",accept:".png, .jpg, .jpeg",onChange:k}),(0,x.jsx)("input",{type:"hidden",name:"avatar_remove"})]}),null!==j.image&&(0,x.jsx)("button",{className:"btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow","data-kt-image-input-action":"remove","data-bs-toggle":"tooltip",title:"Remove avatar",type:"button",onClick:function(){return g((0,o.Z)((0,o.Z)({},j),{},{image:""}))},children:(0,x.jsx)("i",{className:"bi bi-x fs-2"})})]}),(0,x.jsx)("div",{className:"form-text",children:"Allowed file types: png, jpg, jpeg."})]}),(0,x.jsxs)("div",{className:"fv-row w-100 mb-10",children:[(0,x.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,x.jsx)("span",{className:"required",children:"Select Course"})}),(0,x.jsxs)(ce.gN,{as:"select",name:"course_id",className:"form-select mb-2",placeholder:"Select Course",children:[(0,x.jsx)("option",{}),p.map((function(e){return(0,x.jsx)("option",{value:e.id,children:e.course_name},e.id)}))]}),(0,x.jsx)("div",{className:"text-danger mt-2",children:(0,x.jsx)(ce.Bc,{name:"course_id"})})]}),(0,x.jsxs)("div",{className:"fv-row w-100 mb-10",children:[(0,x.jsx)("label",{className:"form-label required",children:"Course Category Name"}),(0,x.jsx)(ce.gN,{name:"course_category",className:"form-control mb-2",onChange:function(e){t("course_category",e.target.value),t("slug",e.target.value.replaceAll(" ","-")),g((0,o.Z)((0,o.Z)({},j),{},{slug:e.target.value.replaceAll(" ","-")}))},placeholder:"Enter Course Category Name"}),(0,x.jsx)("div",{className:"text-danger mt-2",children:(0,x.jsx)(ce.Bc,{name:"course_category"})})]}),(0,x.jsxs)("div",{className:"fv-row w-100 mb-10",children:[(0,x.jsx)("label",{className:"form-label required",children:"Category Slug"}),(0,x.jsx)(ce.gN,{name:"category_slug",className:"form-control mb-2",placeholder:"Enter Category Slug",value:j.slug,onChange:function(e){t("slug",e.target.value.replaceAll(" ","-")),g((0,o.Z)((0,o.Z)({},j),{},{slug:e.target.value.replaceAll(" ","-")}))}}),(0,x.jsx)("div",{className:"text-danger mt-2",children:(0,x.jsx)(ce.Bc,{name:"slug"})})]}),(0,x.jsxs)("div",{className:"fv-row w-100 mb-10",children:[(0,x.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,x.jsx)("span",{className:"required",children:"Position"})}),(0,x.jsx)(ce.gN,{name:"position",type:"number",className:"form-control mb-2",placeholder:"Enter Category Position"}),(0,x.jsx)("div",{className:"text-danger mt-2",children:(0,x.jsx)(ce.Bc,{name:"position"})})]}),(0,x.jsxs)("div",{className:"d-flex flex-stack pt-15",children:[(0,x.jsx)("div",{className:"mr-2"}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary me-3",children:(0,x.jsx)("span",{className:"indicator-label",children:"Submit"})})})]})]})}})}),n&&(0,x.jsx)(ne,{})]})},me=function(){var e=Z(),t=e.itemIdForUpdate,n=e.setItemIdForUpdate,r=(0,i.UE)(t),a=(0,l.useQuery)("".concat(i.vb.USERS_LIST,"-user-").concat(t),(function(){return e=t,d().get("".concat(m,"/").concat(e)).then((function(e){return e.data})).then((function(e){return e.data}));var e}),{cacheTime:0,enabled:r,onError:function(e){n(void 0),console.error(e)}}),s=a.isLoading,c=a.data,o=a.error;return t?s||o||!c?null:(0,x.jsx)(de,{isUserLoading:s,role:c}):(0,x.jsx)(de,{isUserLoading:s,role:{id:void 0}})},fe=function(){return(0,c.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"modal fade show d-block",id:"kt_modal_add_user",role:"dialog",tabIndex:-1,"aria-modal":"true",children:(0,x.jsx)("div",{className:"modal-dialog modal-dialog-centered mw-900px",children:(0,x.jsxs)("div",{className:"modal-content",children:[(0,x.jsx)(se,{}),(0,x.jsx)("div",{className:"modal-body scroll-y mx-5 mx-xl-15",children:(0,x.jsx)(me,{})})]})})}),(0,x.jsx)("div",{className:"modal-backdrop fade show"})]})},xe=function(){var e=Z().itemIdForUpdate;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(i.O7,{children:[(0,x.jsx)(A,{}),(0,x.jsx)(ae,{})]}),void 0!==e&&(0,x.jsx)(fe,{})]})},pe=function(){return(0,x.jsx)(h,{children:(0,x.jsx)(g,{children:(0,x.jsx)(w,{children:(0,x.jsx)(K,{children:(0,x.jsx)(xe,{})})})})})},he="".concat("https://quiz.datacubeindia.com/common","/subject"),ve=function(e,t){return d().put("".concat(he,"/").concat(t),e).then((function(e){return e.data})).then((function(e){return e.data}))},je=(0,c.createContext)(i.vv),ge=function(e){var t=e.children,n=(0,c.useState)(i.vv.state),r=(0,s.Z)(n,2),a=r[0],l=r[1];return(0,x.jsx)(je.Provider,{value:{state:a,updateState:function(e){var t=(0,o.Z)((0,o.Z)({},a),e);l(t)}},children:t})},be=function(){return(0,c.useContext)(je)},Ne=(0,i.gl)(i.B2),ke=function(e){var t=e.children,n=be().state,r=(0,c.useState)((0,i.gJ)(n)),a=(0,s.Z)(r,2),o=a[0],u=a[1],m=(0,c.useMemo)((function(){return(0,i.gJ)(n)}),[n]);(0,c.useEffect)((function(){o!==m&&u(m)}),[m]);var f=(0,l.useQuery)("".concat(i.vb.USERS_LIST,"-").concat(o),(function(){return function(e){return d().get("".concat(he,"?").concat(e)).then((function(e){return e.data}))}(o)}),{cacheTime:0,keepPreviousData:!0,refetchOnWindowFocus:!1}),p=f.isFetching,h=f.refetch,v=f.data;return(0,x.jsx)(Ne.Provider,{value:{isLoading:p,refetch:h,response:v,query:o},children:t})},ye=function(){return(0,c.useContext)(Ne)},we=function(){var e=ye().response;return e&&(null===e||void 0===e?void 0:e.data)||[]},Ze=function(){return ye().isLoading},Se=(0,c.createContext)(i.px),Ce=function(e){var t=e.children,n=(0,c.useState)(i.px.selected),r=(0,s.Z)(n,2),a=r[0],o=r[1],l=(0,c.useState)(i.px.itemIdForUpdate),u=(0,s.Z)(l,2),d=u[0],m=u[1],f=ye().isLoading,p=we(),h=(0,c.useMemo)((function(){return(0,i.Qx)(f,p)}),[f,p]),v=(0,c.useMemo)((function(){return(0,i.HX)(p,a)}),[p,a]);return(0,x.jsx)(Se.Provider,{value:{selected:a,itemIdForUpdate:d,setItemIdForUpdate:m,disabled:h,isAllSelected:v,onSelect:function(e){(0,i.G8)(e,a,o)},onSelectAll:function(){(0,i.ir)(v,o,p)},clearSelected:function(){o([])}},children:t})},_e=function(){return(0,c.useContext)(Se)},Fe=function(e){var t=e.csvData,n=e.fileName;return(0,x.jsxs)("button",{type:"button",className:"btn btn-light-primary me-3",children:[(0,x.jsx)(i.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),(0,x.jsx)(S.CSVLink,{data:t,filename:n,children:"Export"})]})},Ie=function(){var e=be().updateState,t=ye().isLoading,n=(0,c.useState)(),r=(0,s.Z)(n,2),a=r[0],l=r[1],u=(0,c.useState)(),d=(0,s.Z)(u,2),m=d[0],f=d[1];(0,c.useEffect)((function(){_.Mn.reinitialization()}),[]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("button",{disabled:t,type:"button",className:"btn btn-light-primary me-3","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:[(0,x.jsx)(i.D8,{path:"/media/icons/duotune/general/gen031.svg",className:"svg-icon-2"}),"Filter"]}),(0,x.jsxs)("div",{className:"menu menu-sub menu-sub-dropdown w-300px w-md-325px","data-kt-menu":"true",children:[(0,x.jsx)("div",{className:"px-7 py-5",children:(0,x.jsx)("div",{className:"fs-5 text-dark fw-bolder",children:"Filter Options"})}),(0,x.jsx)("div",{className:"separator border-gray-200"}),(0,x.jsxs)("div",{className:"px-7 py-5","data-kt-user-table-filter":"form",children:[(0,x.jsxs)("div",{className:"mb-10",children:[(0,x.jsx)("label",{className:"form-label fs-6 fw-bold",children:"Question Type:"}),(0,x.jsxs)("select",{className:"form-select form-select-solid fw-bolder","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true","data-kt-user-table-filter":"role","data-hide-search":"true",onChange:function(e){return l(e.target.value)},value:a,children:[(0,x.jsx)("option",{value:""}),(0,x.jsx)("option",{value:"Objective",children:"Objective"}),(0,x.jsx)("option",{value:"True/False",children:"True/False"}),(0,x.jsx)("option",{value:"Fill In The Blanks",children:"Fill In The Blanks"}),(0,x.jsx)("option",{value:"Subjective",children:"Subjective"})]})]}),(0,x.jsxs)("div",{className:"mb-10",children:[(0,x.jsx)("label",{className:"form-label fs-6 fw-bold",children:"Difficulty Level:"}),(0,x.jsxs)("select",{className:"form-select form-select-solid fw-bolder","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true","data-kt-user-table-filter":"two-step","data-hide-search":"true",onChange:function(e){return f(e.target.value)},value:m,children:[(0,x.jsx)("option",{value:""}),(0,x.jsx)("option",{value:"Easy",children:"Easy"}),(0,x.jsx)("option",{value:"Moderate",children:"Moderate"}),(0,x.jsx)("option",{value:"Difficult",children:"Difficult"})]})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,x.jsx)("button",{type:"button",disabled:t,onClick:function(){e((0,o.Z)({filter:void 0},i.Xw)),l(""),f("")},className:"btn btn-light btn-active-light-primary fw-bold me-2 px-6","data-kt-menu-dismiss":"true","data-kt-user-table-filter":"reset",children:"Reset"}),(0,x.jsx)("button",{disabled:t,type:"button",onClick:function(){e((0,o.Z)({filter:{question_type:a,level:m}},i.Xw))},className:"btn btn-primary fw-bold px-6","data-kt-menu-dismiss":"true","data-kt-user-table-filter":"filter",children:"Apply"})]})]})]})]})},Pe=function(){var e=we(),t=_e().setItemIdForUpdate;return(0,x.jsxs)("div",{className:"d-flex justify-content-end","data-kt-user-table-toolbar":"base",children:[(0,x.jsx)(Ie,{}),(0,x.jsx)(Fe,{csvData:e,fileName:"subjects"}),(0,x.jsxs)("button",{onClick:function(){t(null)},className:"btn btn-primary",children:[(0,x.jsx)(i.D8,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"}),"Add Subject"]})]})},Te=function(){var e=_e(),t=e.selected,n=e.clearSelected,r=(0,l.useQueryClient)(),a=ye().query,s=(0,l.useMutation)((function(){return function(e){var t=e.map((function(e){return d().delete("".concat(he,"/").concat(e))}));return d().all(t).then((function(){}))}(t)}),{onSuccess:function(){r.invalidateQueries(["".concat(i.vb.USERS_LIST,"-").concat(a)]),n()}});return(0,x.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[(0,x.jsxs)("div",{className:"fw-bolder me-5",children:[(0,x.jsx)("span",{className:"me-2",children:t.length})," Selected"]}),(0,x.jsx)("button",{type:"button",className:"btn btn-danger",onClick:(0,T.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Delete Selected"})]})},Ue=function(){var e=be().updateState,t=(0,c.useState)(""),n=(0,s.Z)(t,2),r=n[0],a=n[1],l=(0,i.Nr)(r,150);return(0,c.useEffect)((function(){void 0!==l&&void 0!==r&&e((0,o.Z)({search:l},i.Xw))}),[l]),(0,x.jsx)("div",{className:"card-title",children:(0,x.jsxs)("div",{className:"d-flex align-items-center position-relative my-1",children:[(0,x.jsx)(i.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-1 position-absolute ms-6"}),(0,x.jsx)("input",{type:"text","data-kt-user-table-filter":"search",className:"form-control form-control-solid w-250px ps-14",placeholder:"Search Subject",value:r,onChange:function(e){return a(e.target.value)}})]})})},Ee=function(){var e=_e().selected;return(0,x.jsxs)("div",{className:"card-header border-0 pt-6",children:[(0,x.jsx)(Ue,{}),(0,x.jsx)("div",{className:"card-toolbar",children:e.length>0?(0,x.jsx)(Te,{}):(0,x.jsx)(Pe,{})})]})},Ae=function(e){var t=e.column;return(0,x.jsx)(x.Fragment,{children:t.Header&&"string"===typeof t.Header?(0,x.jsx)("th",(0,o.Z)((0,o.Z)({},t.getHeaderProps()),{},{children:t.render("Header")})):t.render("Header")})},Le=function(e){var t=e.row;return(0,x.jsx)("tr",(0,o.Z)((0,o.Z)({},t.getRowProps()),{},{children:t.cells.map((function(e){return(0,x.jsx)("td",(0,o.Z)((0,o.Z)({},e.getCellProps()),{},{className:(0,M.Z)({"text-end min-w-100px":"actions"===e.column.id}),children:e.render("Cell")}))}))}))},He=function(e){var t=e.user,n=_e().setItemIdForUpdate;return(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("div",{className:"d-flex flex-column",children:(0,x.jsx)("a",{onClick:function(){n(t.id)},style:{cursor:"pointer"},className:"text-gray-800 text-hover-primary mb-1",children:null===t||void 0===t?void 0:t.subject_name})})})},Me=function(e){var t=e.id,n=e.status,r=(0,c.useState)(n),a=(0,s.Z)(r,2),i=a[0],o=a[1];return(0,x.jsxs)(x.Fragment,{children:[" ",(0,x.jsx)("label",{className:"form-check form-check-custom form-check-solid form-switch mb-5",children:(0,x.jsx)("input",{className:"form-check-input me-3","data-switch":"true","data-on-color":"#D8322D",type:"checkbox",name:"status","data-off-color":"warning",checked:i,onChange:function(){var e=(0,T.Z)((0,P.Z)().mark((function e(n){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(n.currentTarget.checked),e.next=3,ve({status:n.currentTarget.checked?1:0},t);case 3:B().fire({title:"Success!",text:"Status updated successfully!",icon:"success",confirmButtonText:"Okay"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})]})},qe=function(e){var t=e.id,n=_e().setItemIdForUpdate,r=ye().query,a=(0,l.useQueryClient)();(0,c.useEffect)((function(){_.Mn.reinitialization()}),[]);var s=(0,l.useMutation)((function(){return e=t,d().delete("".concat(he,"/").concat(e)).then((function(){}));var e}),{onSuccess:function(){a.invalidateQueries(["".concat(i.vb.USERS_LIST,"-").concat(r)])}});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("a",{href:"#",className:"btn btn-light btn-active-light-primary btn-sm","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:(0,x.jsx)("i",{className:"bi bi-three-dots-vertical fs-5"})}),(0,x.jsxs)("div",{className:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold fs-7 w-125px py-4","data-kt-menu":"true",children:[(0,x.jsx)("div",{className:"menu-item px-3",children:(0,x.jsx)("a",{className:"menu-link px-3",onClick:function(){n(t)},children:"Edit"})}),(0,x.jsx)("div",{className:"menu-item px-3",children:(0,x.jsx)("a",{className:"menu-link px-3","data-kt-users-table-filter":"delete_row",onClick:(0,T.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Delete"})})]})]})},Oe=function(e){var t=e.id,n=_e(),r=n.selected,a=n.onSelect,s=(0,c.useMemo)((function(){return r.includes(t)}),[t,r]);return(0,x.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid",children:(0,x.jsx)("input",{className:"form-check-input",type:"checkbox","data-kt-check":s,"data-kt-check-target":"#kt_table_users .form-check-input",checked:s,onChange:function(){return a(t)}})})},De=function(e){var t=e.className,n=e.title,r=e.tableProps,a=r.column.id,s=be(),l=s.state,u=s.updateState,d=(0,c.useMemo)((function(){return l.sort&&l.sort===a}),[l,a]),m=(0,c.useMemo)((function(){return l.order}),[l]);return(0,x.jsx)("th",(0,o.Z)((0,o.Z)({},r.column.getHeaderProps()),{},{className:(0,M.Z)(t,d&&void 0!==m&&"table-sort-".concat(m)),style:{cursor:"pointer"},onClick:function(){if("actions"!==a&&"selection"!==a)if(d){if(d&&void 0!==m){if("asc"===m)return void u((0,o.Z)({sort:a,order:"desc"},i.Xw));u((0,o.Z)({sort:void 0,order:void 0},i.Xw))}}else u((0,o.Z)({sort:a,order:"asc"},i.Xw))},children:n}))},Re=function(e){var t=e.tableProps,n=_e(),r=n.isAllSelected,a=n.onSelectAll;return(0,x.jsx)("th",(0,o.Z)((0,o.Z)({},t.column.getHeaderProps()),{},{className:"w-10px pe-2",children:(0,x.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid me-3",children:(0,x.jsx)("input",{className:"form-check-input",type:"checkbox","data-kt-check":r,"data-kt-check-target":"#kt_table_users .form-check-input",checked:r,onChange:a})})}))},Be=function(e){var t,n,r=e.courses,a=$().allCategories,s=null===a||void 0===a?void 0:a.filter((function(e){return null===r||void 0===r?void 0:r.some((function(t){return t.course_category_id==e.id}))}));return s=null===(t=s)||void 0===t?void 0:t.flatMap((function(e){return[e.course_category]})),(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("div",{className:"d-flex flex-column",children:null===(n=s)||void 0===n?void 0:n.join(", ")})})},Qe=[{Header:function(e){return(0,x.jsx)(Re,{tableProps:e})},id:"selection",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(Oe,{id:t.data[t.row.index].id})}},{Header:function(e){return(0,x.jsx)(De,{tableProps:e,title:"Subject",className:"min-w-125px"})},id:"name",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(He,{user:t.data[t.row.index]})}},{Header:function(e){return(0,x.jsx)(De,{tableProps:e,title:"Courses",className:"min-w-125px"})},id:"courses",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(Be,{courses:t.data[t.row.index].courses})}},{Header:function(e){return(0,x.jsx)(De,{tableProps:e,title:"Action",className:"min-w-125px"})},id:"active",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(Me,{status:t.data[t.row.index].status,id:t.data[t.row.index].id})}},{Header:function(e){return(0,x.jsx)(De,{tableProps:e,title:"Actions",className:"text-end min-w-100px"})},id:"actions",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(qe,{id:t.data[t.row.index].id})}}],Xe=function(){return(0,x.jsx)("div",{style:(0,o.Z)((0,o.Z)({},{borderRadius:"0.475rem",boxShadow:"0 0 50px 0 rgb(82 63 105 / 15%)",backgroundColor:"#fff",color:"#7e8299",fontWeight:"500",margin:"0",width:"auto",padding:"1rem 2rem",top:"calc(50% - 2rem)",left:"calc(50% - 4rem)"}),{},{position:"absolute",textAlign:"center"}),children:"Processing..."})},Ve=function(){var e,t=function(){var e=(0,o.Z)({links:[]},i.Xw),t=ye().response;return t&&t.payload&&t.payload.pagination?t.payload.pagination:e}(),n=Ze(),r=be().updateState;return(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-sm-12 col-md-5 d-flex align-items-center justify-content-center justify-content-md-start"}),(0,x.jsx)("div",{className:"col-sm-12 col-md-7 d-flex align-items-center justify-content-center justify-content-md-end",children:(0,x.jsx)("div",{id:"kt_table_users_paginate",children:(0,x.jsx)("ul",{className:"pagination",children:null===(e=t.links)||void 0===e?void 0:e.map((function(e){return(0,x.jsx)("li",{className:(0,M.Z)("page-item",{active:t.page===e.page,disabled:n,previous:"&laquo; Previous"===e.label,next:"Next &raquo;"===e.label}),children:(0,x.jsx)("a",{className:"page-link",onClick:function(){var a;(a=e.page)&&!n&&t.page!==a&&r({page:a,items_per_page:t.items_per_page||10})},dangerouslySetInnerHTML:{__html:e.label},style:{cursor:"pointer"}})},e.label)}))})})})]})},We=function(){(0,r.UO)().id;var e=we(),t=Ze(),n=(0,c.useMemo)((function(){return e}),[e]),a=(0,c.useMemo)((function(){return Qe}),[]),s=(0,L.useTable)({columns:a,data:n}),l=s.getTableProps,u=s.getTableBodyProps,d=s.headers,m=s.rows,f=s.prepareRow;return(0,x.jsxs)(i.mN,{className:"py-4",children:[(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",(0,o.Z)((0,o.Z)({id:"kt_table_users",className:"table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer"},l()),{},{children:[(0,x.jsx)("thead",{children:(0,x.jsx)("tr",{className:"text-start text-muted fw-bolder fs-7 text-uppercase gs-0",children:d.map((function(e){return(0,x.jsx)(Ae,{column:e},e.id)}))})}),(0,x.jsx)("tbody",(0,o.Z)((0,o.Z)({className:"text-gray-600 fw-bold"},u()),{},{children:m.length>0?m.map((function(e,t){return f(e),(0,x.jsx)(Le,{row:e},"row-".concat(t,"-").concat(e.id))})):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:7,children:(0,x.jsx)("div",{className:"d-flex text-center w-100 align-content-center justify-content-center",children:"No matching records found"})})})}))]}))}),(0,x.jsx)(Ve,{}),t&&(0,x.jsx)(Xe,{})]})},ze=function(){var e=_e().setItemIdForUpdate;return(0,x.jsxs)("div",{className:"modal-header",children:[(0,x.jsx)("h2",{className:"fw-bolder",children:"Add Subject"}),(0,x.jsx)("div",{className:"btn btn-icon btn-sm btn-active-icon-primary","data-kt-users-modal-action":"close",onClick:function(){return e(void 0)},style:{cursor:"pointer"},children:(0,x.jsx)(i.D8,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-1"})})]})},Je=[ie.Ry().shape({subject_name:ie.Z_().required("Subject Name is required"),courses:ie.IX().min(1)})],Ge={id:void 0,courses:[],subject_name:""},Ye=n(4136),Ke=function(e){var t=e.role,n=e.isUserLoading,r=$(),a=(r.allCourses,r.allCategories),i=_e().setItemIdForUpdate,l=ye().refetch,u=(0,c.useState)(Je[0]),m=(0,s.Z)(u,2),f=m[0],p=(m[1],(0,c.useState)(null)),h=(0,s.Z)(p,2),v=h[0],j=h[1],g=(0,c.useState)((0,o.Z)((0,o.Z)({},t),{},{id:t.id||Ge.id,courses:t.courses||Ge.courses,subject_name:t.subject_name||Ge.subject_name})),b=(0,s.Z)(g,2),N=b[0];b[1];(0,c.useEffect)((function(){if(N.id&&a.length>0){var e=a.filter((function(e){return null===N||void 0===N?void 0:N.courses.some((function(t){return t.course_category_id==e.id}))}));j(e)}}),[a]);var k=function(){var e=(0,T.Z)((0,P.Z)().mark((function e(t,n){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r=t,d().post(he,r).then((function(e){return e.data})).then((function(e){return e.data}));case 3:n.resetForm(),!0&&l(),i(void 0),B().fire({title:"Success!",text:"Subject Updated!",icon:"success",confirmButtonText:"Okay"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}var r}),e,null,[[0,8,11,13]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"stepper stepper-links d-flex flex-column",id:"kt_create_account_stepper",children:(0,x.jsx)(ce.J9,{validationSchema:f,initialValues:N,onSubmit:k,validateOnChange:!1,children:function(e){var t=e.setFieldValue;e.values,e.touched,e.setFieldError,e.errors;return(0,x.jsxs)(ce.l0,{className:"mx-auto mw-700px w-100 pt-5 pb-10",id:"kt_create_account_form",children:[(0,x.jsxs)("div",{className:"fv-row w-100 mb-10",children:[(0,x.jsx)("label",{className:"form-label required",children:"Select Course"}),(0,x.jsx)(Ye.ZP,{isMulti:!0,name:"courses",options:a,className:"basic-multi-select",classNamePrefix:"select",value:v,onChange:function(e,n){t("courses",e),j(e)},getOptionValue:function(e){return e.id},formatOptionLabel:function(e){return(0,x.jsxs)("div",{style:{display:"flex"},children:[(0,x.jsx)("div",{children:e.courses.course_name}),(0,x.jsxs)("div",{style:{},children:[" - ",e.course_category]})]})}}),(0,x.jsx)("div",{className:"text-danger mt-2",children:(0,x.jsx)(ce.Bc,{name:"courses"})})]}),(0,x.jsxs)("div",{className:"fv-row w-100 mb-10",children:[(0,x.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,x.jsx)("span",{className:"required",children:"Subject Name"})}),(0,x.jsx)(ce.gN,{name:"subject_name",className:"form-control mb-2",placeholder:"Enter Subject Name"}),(0,x.jsx)("div",{className:"text-danger mt-2",children:(0,x.jsx)(ce.Bc,{name:"subject_name"})})]}),(0,x.jsxs)("div",{className:"d-flex flex-stack pt-15",children:[(0,x.jsx)("div",{className:"mr-2"}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary me-3",children:(0,x.jsx)("span",{className:"indicator-label",children:"Submit"})})})]})]})}})}),n&&(0,x.jsx)(Xe,{})]})},$e=function(){var e=_e(),t=e.itemIdForUpdate,n=e.setItemIdForUpdate,r=(0,i.UE)(t),a=(0,l.useQuery)("".concat(i.vb.USERS_LIST,"-user-").concat(t),(function(){return e=t,d().get("".concat(he,"/").concat(e)).then((function(e){return e.data})).then((function(e){return e.data}));var e}),{cacheTime:0,enabled:r,onError:function(e){n(void 0),console.error(e)}}),s=a.isLoading,c=a.data,o=a.error;return t?s||o||!c?null:(0,x.jsx)(Ke,{isUserLoading:s,role:c}):(0,x.jsx)(Ke,{isUserLoading:s,role:{id:void 0}})},et=function(){return(0,c.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"modal fade show d-block",id:"kt_modal_add_user",role:"dialog",tabIndex:-1,"aria-modal":"true",children:(0,x.jsx)("div",{className:"modal-dialog modal-dialog-centered mw-900px",children:(0,x.jsxs)("div",{className:"modal-content",children:[(0,x.jsx)(ze,{}),(0,x.jsx)("div",{className:"modal-body scroll-y mx-5 mx-xl-15",children:(0,x.jsx)($e,{})})]})})}),(0,x.jsx)("div",{className:"modal-backdrop fade show"})]})},tt=function(){var e=_e().itemIdForUpdate;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(i.O7,{children:[(0,x.jsx)(Ee,{}),(0,x.jsx)(We,{})]}),void 0!==e&&(0,x.jsx)(et,{})]})},nt=function(){return(0,x.jsx)(ge,{children:(0,x.jsx)(ke,{children:(0,x.jsx)(Ce,{children:(0,x.jsx)(K,{children:(0,x.jsx)(tt,{})})})})})},rt=(0,c.createContext)(i.vv),at=function(e){var t=e.children,n=(0,c.useState)(i.vv.state),r=(0,s.Z)(n,2),a=r[0],l=r[1];return(0,x.jsx)(rt.Provider,{value:{state:a,updateState:function(e){var t=(0,o.Z)((0,o.Z)({},a),e);l(t)}},children:t})},st=function(){return(0,c.useContext)(rt)},ct=(0,i.gl)(i.B2),it=function(e){var t=e.children,n=st().state,r=(0,c.useState)((0,i.gJ)(n)),a=(0,s.Z)(r,2),o=a[0],u=a[1],m=(0,c.useMemo)((function(){return(0,i.gJ)(n)}),[n]);(0,c.useEffect)((function(){o!==m&&u(m)}),[m]);var f=(0,l.useQuery)("".concat(i.vb.USERS_LIST,"-").concat(o),(function(){return function(e){return d().get("".concat(J,"/getAll?").concat(e)).then((function(e){return e.data}))}(o)}),{cacheTime:0,keepPreviousData:!0,refetchOnWindowFocus:!1}),p=f.isFetching,h=f.refetch,v=f.data;return(0,x.jsx)(ct.Provider,{value:{isLoading:p,refetch:h,response:v,query:o},children:t})},ot=function(){return(0,c.useContext)(ct)},lt=function(){var e=ot().response;return e&&(null===e||void 0===e?void 0:e.data)||[]},ut=function(){return ot().isLoading},dt=(0,c.createContext)(i.px),mt=function(e){var t=e.children,n=(0,c.useState)(i.px.selected),r=(0,s.Z)(n,2),a=r[0],o=r[1],l=(0,c.useState)(i.px.itemIdForUpdate),u=(0,s.Z)(l,2),d=u[0],m=u[1],f=ot().isLoading,p=lt(),h=(0,c.useMemo)((function(){return(0,i.Qx)(f,p)}),[f,p]),v=(0,c.useMemo)((function(){return(0,i.HX)(p,a)}),[p,a]);return(0,x.jsx)(dt.Provider,{value:{selected:a,itemIdForUpdate:d,setItemIdForUpdate:m,disabled:h,isAllSelected:v,onSelect:function(e){(0,i.G8)(e,a,o)},onSelectAll:function(){(0,i.ir)(v,o,p)},clearSelected:function(){o([])}},children:t})},ft=function(){return(0,c.useContext)(dt)},xt=function(e){var t=e.csvData,n=e.fileName;return(0,x.jsxs)("button",{type:"button",className:"btn btn-light-primary me-3",children:[(0,x.jsx)(i.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),(0,x.jsx)(S.CSVLink,{data:t,filename:n,children:"Export"})]})},pt=function(){var e=lt(),t=ft().setItemIdForUpdate;return(0,x.jsxs)("div",{className:"d-flex justify-content-end","data-kt-user-table-toolbar":"base",children:[(0,x.jsx)(xt,{csvData:e,fileName:"courses"}),(0,x.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){t(null)},children:[(0,x.jsx)(i.D8,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"}),"Add Course"]})]})},ht=function(){var e=ft(),t=e.selected,n=e.clearSelected,r=(0,l.useQueryClient)(),a=ot().query,s=(0,l.useMutation)((function(){return function(e){var t=e.map((function(e){return d().delete("".concat(J,"/").concat(e))}));return d().all(t).then((function(){}))}(t)}),{onSuccess:function(){r.invalidateQueries(["".concat(i.vb.USERS_LIST,"-").concat(a)]),n()}});return(0,x.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[(0,x.jsxs)("div",{className:"fw-bolder me-5",children:[(0,x.jsx)("span",{className:"me-2",children:t.length})," Selected"]}),(0,x.jsx)("button",{type:"button",className:"btn btn-danger",onClick:(0,T.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Delete Selected"})]})},vt=function(){var e=st().updateState,t=(0,c.useState)(""),n=(0,s.Z)(t,2),r=n[0],a=n[1],l=(0,i.Nr)(r,150);return(0,c.useEffect)((function(){void 0!==l&&void 0!==r&&e((0,o.Z)({search:l},i.Xw))}),[l]),(0,x.jsx)("div",{className:"card-title",children:(0,x.jsxs)("div",{className:"d-flex align-items-center position-relative my-1",children:[(0,x.jsx)(i.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-1 position-absolute ms-6"}),(0,x.jsx)("input",{type:"text","data-kt-user-table-filter":"search",className:"form-control form-control-solid w-250px ps-14",placeholder:"Search Courses",value:r,onChange:function(e){return a(e.target.value)}})]})})},jt=function(){var e=ft().selected;return(0,x.jsxs)("div",{className:"card-header border-0 pt-6",children:[(0,x.jsx)(vt,{}),(0,x.jsx)("div",{className:"card-toolbar",children:e.length>0?(0,x.jsx)(ht,{}):(0,x.jsx)(pt,{})})]})},gt=function(e){var t=e.column;return(0,x.jsx)(x.Fragment,{children:t.Header&&"string"===typeof t.Header?(0,x.jsx)("th",(0,o.Z)((0,o.Z)({},t.getHeaderProps()),{},{children:t.render("Header")})):t.render("Header")})},bt=function(e){var t=e.row;return(0,x.jsx)("tr",(0,o.Z)((0,o.Z)({},t.getRowProps()),{},{children:t.cells.map((function(e){return(0,x.jsx)("td",(0,o.Z)((0,o.Z)({},e.getCellProps()),{},{className:(0,M.Z)({"text-end min-w-100px":"actions"===e.column.id}),children:e.render("Cell")}))}))}))},Nt=function(e){var t=e.status,n=e.id,r=(0,c.useState)(t),a=(0,s.Z)(r,2),i=a[0],o=a[1];return console.log(i,"stat"),(0,x.jsxs)(x.Fragment,{children:[" ",(0,x.jsx)("label",{className:"form-check form-check-custom form-check-solid form-switch mb-5",children:(0,x.jsx)("input",{className:"form-check-input",type:"checkbox",name:"status",checked:i,onChange:function(){var e=(0,T.Z)((0,P.Z)().mark((function e(t){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t.currentTarget.checked),e.next=3,G({status:t.currentTarget.checked?1:0},n);case 3:B().fire({title:"Success!",text:"Status updated successfully!",icon:"success",confirmButtonText:"Okay"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})]})},kt=function(e){var t=e.id,n=ft().setItemIdForUpdate,r=ot().query,a=(0,l.useQueryClient)();(0,c.useEffect)((function(){_.Mn.reinitialization()}),[]);var s=(0,l.useMutation)((function(){return e=t,d().delete("".concat(J,"/").concat(e)).then((function(){}));var e}),{onSuccess:function(){a.invalidateQueries(["".concat(i.vb.USERS_LIST,"-").concat(r)])}});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("a",{href:"#",className:"btn btn-light btn-active-light-primary btn-sm","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:(0,x.jsx)("i",{className:"bi bi-three-dots-vertical fs-5"})}),(0,x.jsxs)("div",{className:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold fs-7 w-125px py-4","data-kt-menu":"true",children:[(0,x.jsx)("div",{className:"menu-item",children:(0,x.jsx)("a",{className:"menu-link px-3",onClick:function(){n(t)},children:"Edit"})}),(0,x.jsx)("div",{className:"menu-item",children:(0,x.jsx)("a",{className:"menu-link px-3","data-kt-users-table-filter":"delete_row",onClick:(0,T.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Delete"})})]})]})},yt=function(e){var t=e.id,n=ft(),r=n.selected,a=n.onSelect,s=(0,c.useMemo)((function(){return r.includes(t)}),[t,r]);return(0,x.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid",children:(0,x.jsx)("input",{className:"form-check-input",type:"checkbox","data-kt-check":s,"data-kt-check-target":"#kt_table_users .form-check-input",checked:s,onChange:function(){return a(t)}})})},wt=function(e){var t=e.className,n=e.title,r=e.tableProps,a=r.column.id,s=st(),l=s.state,u=s.updateState,d=(0,c.useMemo)((function(){return l.sort&&l.sort===a}),[l,a]),m=(0,c.useMemo)((function(){return l.order}),[l]);return(0,x.jsx)("th",(0,o.Z)((0,o.Z)({},r.column.getHeaderProps()),{},{className:(0,M.Z)(t,d&&void 0!==m&&"table-sort-".concat(m)),style:{cursor:"pointer"},onClick:function(){if("actions"!==a&&"selection"!==a)if(d){if(d&&void 0!==m){if("asc"===m)return void u((0,o.Z)({sort:a,order:"desc"},i.Xw));u((0,o.Z)({sort:void 0,order:void 0},i.Xw))}}else u((0,o.Z)({sort:a,order:"asc"},i.Xw))},children:n}))},Zt=function(e){var t=e.tableProps,n=ft(),r=n.isAllSelected,a=n.onSelectAll;return(0,x.jsx)("th",(0,o.Z)((0,o.Z)({},t.column.getHeaderProps()),{},{className:"w-10px pe-2",children:(0,x.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid me-3",children:(0,x.jsx)("input",{className:"form-check-input",type:"checkbox","data-kt-check":r,"data-kt-check-target":"#kt_table_users .form-check-input",checked:r,onChange:a})})}))},St=function(e){var t=e.image;return(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("img",{className:"d-flex flex-column",src:t,style:{height:30,width:30,borderRadius:60}})})},Ct=[{Header:function(e){return(0,x.jsx)(Zt,{tableProps:e})},id:"selection",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(yt,{id:t.data[t.row.index].id})}},{Header:function(e){return(0,x.jsx)(wt,{tableProps:e,title:"Course Name",className:"min-w-125px"})},accessor:"course_name"},{Header:function(e){return(0,x.jsx)(wt,{tableProps:e,title:"Course image",className:"min-w-125px"})},id:"image",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(St,{image:t.data[t.row.index].image})}},{Header:function(e){return(0,x.jsx)(wt,{tableProps:e,title:"position",className:"min-w-125px"})},accessor:"position"},{Header:function(e){return(0,x.jsx)(wt,{tableProps:e,title:"Active",className:"min-w-125px"})},id:"active",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(Nt,{status:t.data[t.row.index].status,id:t.data[t.row.index].id})}},{Header:function(e){return(0,x.jsx)(wt,{tableProps:e,title:"Actions",className:"text-end min-w-100px"})},id:"actions",Cell:function(e){var t=Object.assign({},e);return(0,x.jsx)(kt,{id:t.data[t.row.index].id})}}],_t=function(){return(0,x.jsx)("div",{style:(0,o.Z)((0,o.Z)({},{borderRadius:"0.475rem",boxShadow:"0 0 50px 0 rgb(82 63 105 / 15%)",backgroundColor:"#fff",color:"#7e8299",fontWeight:"500",margin:"0",width:"auto",padding:"1rem 2rem",top:"calc(50% - 2rem)",left:"calc(50% - 4rem)"}),{},{position:"absolute",textAlign:"center"}),children:"Processing..."})},Ft=function(){var e,t=function(){var e=(0,o.Z)({links:[]},i.Xw),t=ot().response;return t&&t.payload&&t.payload.pagination?t.payload.pagination:e}(),n=ut(),r=st().updateState;return(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-sm-12 col-md-5 d-flex align-items-center justify-content-center justify-content-md-start"}),(0,x.jsx)("div",{className:"col-sm-12 col-md-7 d-flex align-items-center justify-content-center justify-content-md-end",children:(0,x.jsx)("div",{id:"kt_table_users_paginate",children:(0,x.jsx)("ul",{className:"pagination",children:null===(e=t.links)||void 0===e?void 0:e.map((function(e){return(0,x.jsx)("li",{className:(0,M.Z)("page-item",{active:t.page===e.page,disabled:n,previous:"&laquo; Previous"===e.label,next:"Next &raquo;"===e.label}),children:(0,x.jsx)("a",{className:"page-link",onClick:function(){var a;(a=e.page)&&!n&&t.page!==a&&r({page:a,items_per_page:t.items_per_page||10})},dangerouslySetInnerHTML:{__html:e.label},style:{cursor:"pointer"}})},e.label)}))})})})]})},It=function(){var e=lt(),t=ut(),n=(0,c.useMemo)((function(){return e}),[e]),r=(0,c.useMemo)((function(){return Ct}),[]),a=(0,L.useTable)({columns:r,data:n}),s=a.getTableProps,l=a.getTableBodyProps,u=a.headers,d=a.rows,m=a.prepareRow;return(0,x.jsxs)(i.mN,{className:"py-4",children:[(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",(0,o.Z)((0,o.Z)({id:"kt_table_users",className:"table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer"},s()),{},{children:[(0,x.jsx)("thead",{children:(0,x.jsx)("tr",{className:"text-start text-muted fw-bolder fs-7 text-uppercase gs-0",children:u.map((function(e){return(0,x.jsx)(gt,{column:e},e.id)}))})}),(0,x.jsx)("tbody",(0,o.Z)((0,o.Z)({className:"text-gray-600 fw-bold"},l()),{},{children:d.length>0?d.map((function(e,t){return m(e),(0,x.jsx)(bt,{row:e},"row-".concat(t,"-").concat(e.id))})):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:7,children:(0,x.jsx)("div",{className:"d-flex text-center w-100 align-content-center justify-content-center",children:"No matching records found"})})})}))]}))}),(0,x.jsx)(Ft,{}),t&&(0,x.jsx)(_t,{})]})},Pt=function(){var e=ft().setItemIdForUpdate;return(0,x.jsxs)("div",{className:"modal-header",children:[(0,x.jsx)("h2",{className:"fw-bolder",children:"Add Course"}),(0,x.jsx)("div",{className:"btn btn-icon btn-sm btn-active-icon-primary","data-kt-users-modal-action":"close",onClick:function(){return e(void 0)},style:{cursor:"pointer"},children:(0,x.jsx)(i.D8,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-1"})})]})},Tt=[ie.Ry().shape({course_name:ie.Z_().required("Course Name is required"),position:ie.Rx().required("Position is required")})],Ut={id:void 0,course_name:"",image:void 0,position:void 0},Et=function(e){var t=e.role,n=e.isUserLoading,r=ft().setItemIdForUpdate,a=ot().refetch,l=(0,c.useState)(Tt[0]),u=(0,s.Z)(l,2),m=u[0],f=(u[1],(0,c.useState)((0,o.Z)((0,o.Z)({},t),{},{id:t.id||Ut.id,course_name:t.course_name||Ut.course_name,position:t.position||Ut.position,image:t.image||Ut.image}))),p=(0,s.Z)(f,2),h=p[0],v=p[1],j=function(){var e=(0,T.Z)((0,P.Z)().mark((function e(t,n){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.image=h.image,e.next=4,s=t,d().post(J,s).then((function(e){return e.data})).then((function(e){return e.data}));case 4:n.resetForm(),!0&&a(),r(void 0),B().fire({title:"Success!",text:"Course Updated!",icon:"success",confirmButtonText:"Okay"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}var s}),e,null,[[0,9,12,14]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,T.Z)((0,P.Z)().mark((function e(t){var n,r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.files[0],(r=new FormData).append("image",n),e.next=5,d().post("".concat(ue.T,"/upload"),r).then((function(e){v((0,o.Z)((0,o.Z)({},h),{},{image:e.data}))})).catch((function(e){console.log(e,"err")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"stepper stepper-links d-flex flex-column",id:"kt_create_account_stepper",children:(0,x.jsx)(ce.J9,{validationSchema:m,initialValues:h,onSubmit:j,validateOnChange:!1,children:function(){return(0,x.jsxs)(ce.l0,{className:"mx-auto mw-700px w-100 pt-5 pb-10",id:"kt_create_account_form",children:[(0,x.jsxs)("div",{className:"fv-row mb-7",children:[(0,x.jsx)("label",{className:"d-block form-label",children:"Course Image"}),(0,x.jsxs)("div",{className:"image-input image-input-outline","data-kt-image-input":"true",children:[(0,x.jsx)("div",{className:"",children:(0,x.jsx)("img",{src:null==(null===h||void 0===h?void 0:h.image)||""==(null===h||void 0===h?void 0:h.image)?(0,i.BY)("/media/svg/avatars/blank.svg"):null===h||void 0===h?void 0:h.image,alt:"avatar",className:"image-input-wrapper w-125px h-125px"})}),(0,x.jsxs)("label",{className:"btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow","data-kt-image-input-action":"change","data-bs-toggle":"tooltip",title:"Change avatar",children:[(0,x.jsx)("i",{className:"bi bi-pencil-fill fs-7"}),(0,x.jsx)("input",{type:"file",name:"profile_image",accept:".png, .jpg, .jpeg",onChange:g}),(0,x.jsx)("input",{type:"hidden",name:"avatar_remove"})]}),null!==h.image&&(0,x.jsx)("button",{className:"btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow","data-kt-image-input-action":"remove","data-bs-toggle":"tooltip",title:"Remove avatar",type:"button",onClick:function(){return v((0,o.Z)((0,o.Z)({},h),{},{image:""}))},children:(0,x.jsx)("i",{className:"bi bi-x fs-2"})})]}),(0,x.jsx)("div",{className:"form-text",children:"Allowed file types: png, jpg, jpeg."})]}),(0,x.jsxs)("div",{className:"fv-row w-100 mb-10",children:[(0,x.jsx)("label",{className:"form-label required",children:"Course Name"}),(0,x.jsx)(ce.gN,{name:"course_name",className:"form-control mb-2",placeholder:"Enter Course Name"}),(0,x.jsx)("div",{className:"text-danger mt-2",children:(0,x.jsx)(ce.Bc,{name:"course_name"})})]}),(0,x.jsxs)("div",{className:"fv-row w-100 mb-10",children:[(0,x.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,x.jsx)("span",{className:"required",children:"Position"})}),(0,x.jsx)(ce.gN,{name:"position",className:"form-control mb-2",type:"number",placeholder:"Enter Order of course"}),(0,x.jsx)("div",{className:"text-danger mt-2",children:(0,x.jsx)(ce.Bc,{name:"position"})})]}),(0,x.jsxs)("div",{className:"d-flex flex-stack pt-15",children:[(0,x.jsx)("div",{className:"mr-2"}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary me-3",children:(0,x.jsx)("span",{className:"indicator-label",children:"Submit"})})})]})]})}})}),n&&(0,x.jsx)(_t,{})]})},At=function(){var e=ft(),t=e.itemIdForUpdate,n=e.setItemIdForUpdate,r=(0,i.UE)(t),a=(0,l.useQuery)("".concat(i.vb.USERS_LIST,"-user-").concat(t),(function(){return e=t,d().get("".concat(J,"/").concat(e)).then((function(e){return e.data})).then((function(e){return e.data}));var e}),{cacheTime:0,enabled:r,onError:function(e){n(void 0),console.error(e)}}),s=a.isLoading,c=a.data,o=a.error;return t?s||o||!c?null:(0,x.jsx)(Et,{isUserLoading:s,role:c}):(0,x.jsx)(Et,{isUserLoading:s,role:{id:void 0}})},Lt=function(){return(0,c.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"modal fade show d-block",id:"kt_modal_add_user",role:"dialog",tabIndex:-1,"aria-modal":"true",children:(0,x.jsx)("div",{className:"modal-dialog modal-dialog-centered mw-900px",children:(0,x.jsxs)("div",{className:"modal-content",children:[(0,x.jsx)(Pt,{}),(0,x.jsx)("div",{className:"modal-body scroll-y mx-5 mx-xl-15",children:(0,x.jsx)(At,{})})]})})}),(0,x.jsx)("div",{className:"modal-backdrop fade show"})]})},Ht=function(){var e=ft().itemIdForUpdate;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(i.O7,{children:[(0,x.jsx)(jt,{}),(0,x.jsx)(It,{})]}),void 0!==e&&(0,x.jsx)(Lt,{})]})},Mt=function(){return(0,x.jsx)(at,{children:(0,x.jsx)(it,{children:(0,x.jsx)(mt,{children:(0,x.jsx)(Ht,{})})})})},qt=[{title:"Courses",path:"/course/courses",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],Ot=function(){return(0,x.jsx)(r.Z5,{children:(0,x.jsxs)(r.AW,{element:(0,x.jsx)(r.j3,{}),children:[(0,x.jsx)(r.AW,{path:"courses",element:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.V1,{breadcrumbs:qt,children:"Courses list"}),(0,x.jsx)(Mt,{})]})}),(0,x.jsx)(r.AW,{path:"course-category",element:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.V1,{breadcrumbs:qt,children:"Course Category list"}),(0,x.jsx)(pe,{})]})}),(0,x.jsx)(r.AW,{path:"subjects",element:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.V1,{breadcrumbs:qt,children:"Subject list"}),(0,x.jsx)(nt,{})]})}),(0,x.jsx)(r.AW,{index:!0,element:(0,x.jsx)(r.Fg,{to:"/sponsor/sponsors"})})]})})}},8922:function(e,t,n){n.d(t,{T:function(){return r}});var r="https://quiz.datacubeindia.com/common/option"}}]);
//# sourceMappingURL=359.d0ad3f96.chunk.js.map