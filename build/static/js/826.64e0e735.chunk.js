"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[826],{3826:function(e,t,n){n.r(t),n.d(t,{default:function(){return Mt}});var r=n(6871),s=n(4880),a=n(885),i=n(2791),c=n(2930),l=n(1413),o=n(1933),d=n(4569),u=n.n(d),m="".concat("https://quiz.datacubeindia.com/question","/question"),f="https://quiz.datacubeindia.com/quiz/quiz",x=function(e){return u().get("".concat(m,"?").concat(e)).then((function(e){return e.data}))},p=n(184),h=(0,i.createContext)(c.vv),v=function(e){var t=e.children,n=(0,i.useState)(c.vv.state),r=(0,a.Z)(n,2),s=r[0],o=r[1];return(0,p.jsx)(h.Provider,{value:{state:s,updateState:function(e){var t=(0,l.Z)((0,l.Z)({},s),e);o(t)}},children:t})},j=function(){return(0,i.useContext)(h)},b=(0,c.gl)(c.B2),g=function(e){var t=e.children,n=j().state,r=(0,i.useState)((0,c.gJ)(n)),s=(0,a.Z)(r,2),l=s[0],d=s[1],u=(0,i.useMemo)((function(){return(0,c.gJ)(n)}),[n]);(0,i.useEffect)((function(){l!==u&&d(u)}),[u]);var m=(0,o.useQuery)("".concat(c.vb.USERS_LIST,"-").concat(l),(function(){return x(l)}),{cacheTime:0,keepPreviousData:!0,refetchOnWindowFocus:!1}),f=m.isFetching,h=m.refetch,v=m.data;return(0,p.jsx)(b.Provider,{value:{isLoading:f,refetch:h,response:v,query:l},children:t})},N=function(){return(0,i.useContext)(b)},w=function(){var e=N().response;return e&&(null===e||void 0===e?void 0:e.data)||[]},k=function(){return N().isLoading},y=(0,i.createContext)(c.px),_=function(e){var t=e.children,n=(0,i.useState)(c.px.selected),r=(0,a.Z)(n,2),s=r[0],l=r[1],o=(0,i.useState)(c.px.itemIdForUpdate),d=(0,a.Z)(o,2),u=d[0],m=d[1],f=N().isLoading,x=w(),h=(0,i.useMemo)((function(){return(0,c.Qx)(f,x)}),[f,x]),v=(0,i.useMemo)((function(){return(0,c.HX)(x,s)}),[x,s]);return(0,p.jsx)(y.Provider,{value:{selected:s,itemIdForUpdate:u,setItemIdForUpdate:m,disabled:h,isAllSelected:v,onSelect:function(e){(0,c.G8)(e,s,l)},onSelectAll:function(){(0,c.ir)(v,l,x)},clearSelected:function(){l([])}},children:t})},S=function(){return(0,i.useContext)(y)},Z=n(3504),q=n(6492),C=function(){var e=j().updateState,t=N().isLoading,n=(0,i.useState)(),r=(0,a.Z)(n,2),s=r[0],o=r[1],d=(0,i.useState)(),u=(0,a.Z)(d,2),m=u[0],f=u[1];(0,i.useEffect)((function(){q.Mn.reinitialization()}),[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{disabled:t,type:"button",className:"btn btn-light-primary me-3","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:[(0,p.jsx)(c.D8,{path:"/media/icons/duotune/general/gen031.svg",className:"svg-icon-2"}),"Filter"]}),(0,p.jsxs)("div",{className:"menu menu-sub menu-sub-dropdown w-300px w-md-325px","data-kt-menu":"true",children:[(0,p.jsx)("div",{className:"px-7 py-5",children:(0,p.jsx)("div",{className:"fs-5 text-dark fw-bolder",children:"Filter Options"})}),(0,p.jsx)("div",{className:"separator border-gray-200"}),(0,p.jsxs)("div",{className:"px-7 py-5","data-kt-user-table-filter":"form",children:[(0,p.jsxs)("div",{className:"mb-10",children:[(0,p.jsx)("label",{className:"form-label fs-6 fw-bold",children:"Question Type:"}),(0,p.jsxs)("select",{className:"form-select form-select-solid fw-bolder","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true","data-kt-user-table-filter":"role","data-hide-search":"true",onChange:function(e){return o(e.target.value)},value:s,children:[(0,p.jsx)("option",{value:""}),(0,p.jsx)("option",{value:"Objective",children:"Objective"}),(0,p.jsx)("option",{value:"True/False",children:"True/False"}),(0,p.jsx)("option",{value:"Fill In The Blanks",children:"Fill In The Blanks"}),(0,p.jsx)("option",{value:"Subjective",children:"Subjective"})]})]}),(0,p.jsxs)("div",{className:"mb-10",children:[(0,p.jsx)("label",{className:"form-label fs-6 fw-bold",children:"Difficulty Level:"}),(0,p.jsxs)("select",{className:"form-select form-select-solid fw-bolder","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true","data-kt-user-table-filter":"two-step","data-hide-search":"true",onChange:function(e){return f(e.target.value)},value:m,children:[(0,p.jsx)("option",{value:""}),(0,p.jsx)("option",{value:"Easy",children:"Easy"}),(0,p.jsx)("option",{value:"Moderate",children:"Moderate"}),(0,p.jsx)("option",{value:"Difficult",children:"Difficult"})]})]}),(0,p.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,p.jsx)("button",{type:"button",disabled:t,onClick:function(){e((0,l.Z)({filter:void 0},c.Xw)),o(""),f("")},className:"btn btn-light btn-active-light-primary fw-bold me-2 px-6","data-kt-menu-dismiss":"true","data-kt-user-table-filter":"reset",children:"Reset"}),(0,p.jsx)("button",{disabled:t,type:"button",onClick:function(){e((0,l.Z)({filter:{question_type:s,level:m}},c.Xw))},className:"btn btn-primary fw-bold px-6","data-kt-menu-dismiss":"true","data-kt-user-table-filter":"filter",children:"Apply"})]})]})]})]})},z=function(){w(),S().setItemIdForUpdate;var e=(0,r.s0)();(0,i.useEffect)((function(){return window.addEventListener("popstate",t),function(){window.removeEventListener("popstate",t)}}),[]);var t=function(){e("/quiz")};return(0,p.jsxs)("div",{className:"d-flex justify-content-end","data-kt-user-table-toolbar":"base",children:[(0,p.jsx)(C,{}),(0,p.jsxs)(Z.rU,{to:"/quiz",className:"btn btn-primary",children:[(0,p.jsx)(c.D8,{path:"/media/icons/duotune/arrows/arr002.svg",className:"svg-icon-2"}),"Back To Quiz"]})]})},P=n(4165),F=n(5861),T=function(){var e=(0,r.UO)().id,t=S(),n=t.selected,s=t.clearSelected,a=((0,o.useQueryClient)(),N().query),i=(0,o.useMutation)((function(){return function(e){var t=e.map((function(e){return u().delete("".concat(f,"/question/").concat(e))}));return u().all(t).then((function(){}))}(n)}),{onSuccess:function(){x(a),s(),window.location.reload()}}),c=(0,o.useMutation)((function(){return function(e,t){var n=e.map((function(e){return u().post("".concat(f,"/addQuestion"),{quiz_id:t,question_bank_id:e})}));return u().all(n).then((function(){}))}(n,e)}),{onSuccess:function(){x(a),s(),window.location.reload()}});return(0,p.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[(0,p.jsxs)("div",{className:"fw-bolder me-5",children:[(0,p.jsx)("span",{className:"me-2",children:n.length})," Selected"]}),(0,p.jsx)("button",{type:"button",className:"btn btn-primary me-5",onClick:(0,F.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Add to Quiz"}),(0,p.jsx)("button",{type:"button",className:"btn btn-danger",onClick:(0,F.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Delete from Quiz"})]})},I=function(){var e=j().updateState,t=(0,i.useState)(""),n=(0,a.Z)(t,2),r=n[0],s=n[1],o=(0,c.Nr)(r,150);return(0,i.useEffect)((function(){void 0!==o&&void 0!==r&&e((0,l.Z)({search:o},c.Xw))}),[o]),(0,p.jsx)("div",{className:"card-title",children:(0,p.jsxs)("div",{className:"d-flex align-items-center position-relative my-1",children:[(0,p.jsx)(c.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-1 position-absolute ms-6"}),(0,p.jsx)("input",{type:"text","data-kt-user-table-filter":"search",className:"form-control form-control-solid w-250px ps-14",placeholder:"Search Question",value:r,onChange:function(e){return s(e.target.value)}})]})})},Q=function(){var e=S().selected;return(0,p.jsxs)("div",{className:"card-header border-0 pt-6",children:[(0,p.jsx)(I,{}),(0,p.jsx)("div",{className:"card-toolbar",children:e.length>0?(0,p.jsx)(T,{}):(0,p.jsx)(z,{})})]})},E=n(1358),M=function(e){var t=e.column;return(0,p.jsx)(p.Fragment,{children:t.Header&&"string"===typeof t.Header?(0,p.jsx)("th",(0,l.Z)((0,l.Z)({},t.getHeaderProps()),{},{children:t.render("Header")})):t.render("Header")})},H=n(8182),D=function(e){var t=e.row;return(0,p.jsx)("tr",(0,l.Z)((0,l.Z)({},t.getRowProps()),{},{children:t.cells.map((function(e){return(0,p.jsx)("td",(0,l.Z)((0,l.Z)({},e.getCellProps()),{},{className:(0,H.Z)({"text-end min-w-100px":"actions"===e.column.id}),children:e.render("Cell")}))}))}))},A=function(e){var t=e.user;console.log(t,"user");var n=S().setItemIdForUpdate,r=function(){n(t.id)};function s(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}return(0,p.jsx)("div",{className:"d-flex align-items-center",children:(0,p.jsx)("div",{className:"d-flex flex-column",children:t.questions.length>0&&t.questions.map((function(e,t){return(0,p.jsx)("a",{onClick:r,style:{cursor:"pointer"},className:"text-gray-800 text-hover-primary mb-1",children:s(e.question)},t)}))})})},L=function(e){var t=e.level;return(0,p.jsx)("div",{className:"fw-bolder",children:t})},O=function(e){var t=e.id,n=(0,r.UO)();console.log(n,"params"),(0,i.useEffect)((function(){(function(e){return u().get("".concat(f,"/quizQuestion/").concat(e)).then((function(e){return e.data}))})(t).then((function(e){o(e)})).catch((function(e){console.log(e)}))}),[t]);var s=(0,i.useState)(!1),c=(0,a.Z)(s,2),l=c[0],o=c[1];return(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsxs)("label",{className:"form-check form-check-custom form-check-solid form-switch mb-5",children:[(0,p.jsx)("input",{className:"form-check-input me-3","data-switch":"true","data-on-color":"#D8322D",type:"checkbox",name:"status","data-off-color":"warning",checked:l,onChange:function(){var e=(0,F.Z)((0,P.Z)().mark((function e(r){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.currentTarget.checked){e.next=5;break}return e.next=3,a={quiz_id:n.id,question_bank_id:t},u().post("".concat(f,"/addQuestion"),a).then((function(e){return e.data})).then((function(e){return e.data}));case 3:e.next=7;break;case 5:return e.next=7,s=t,u().delete("".concat(f,"/question/").concat(s)).then((function(){}));case 7:o(!l);case 8:case"end":return e.stop()}var s,a}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,p.jsx)("span",{style:{color:0==l?"#44A8C1":"#D8322D"},children:1==l?"Remove from Quiz":"Add to Quiz"})]})]})},U=function(e){var t=e.id,n=S(),r=n.selected,s=n.onSelect,a=(0,i.useMemo)((function(){return r.includes(t)}),[t,r]);return(0,p.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid",children:(0,p.jsx)("input",{className:"form-check-input",type:"checkbox","data-kt-check":a,"data-kt-check-target":"#kt_table_users .form-check-input",checked:a,onChange:function(){return s(t)}})})},R=function(e){var t=e.className,n=e.title,r=e.tableProps,s=r.column.id,a=j(),o=a.state,d=a.updateState,u=(0,i.useMemo)((function(){return o.sort&&o.sort===s}),[o,s]),m=(0,i.useMemo)((function(){return o.order}),[o]);return(0,p.jsx)("th",(0,l.Z)((0,l.Z)({},r.column.getHeaderProps()),{},{className:(0,H.Z)(t,u&&void 0!==m&&"table-sort-".concat(m)),style:{cursor:"pointer"},onClick:function(){if("actions"!==s&&"selection"!==s)if(u){if(u&&void 0!==m){if("asc"===m)return void d((0,l.Z)({sort:s,order:"desc"},c.Xw));d((0,l.Z)({sort:void 0,order:void 0},c.Xw))}}else d((0,l.Z)({sort:s,order:"asc"},c.Xw))},children:n}))},B=function(e){var t=e.tableProps,n=S(),r=n.isAllSelected,s=n.onSelectAll;return(0,p.jsx)("th",(0,l.Z)((0,l.Z)({},t.column.getHeaderProps()),{},{className:"w-10px pe-2",children:(0,p.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid me-3",children:(0,p.jsx)("input",{className:"form-check-input",type:"checkbox","data-kt-check":r,"data-kt-check-target":"#kt_table_users .form-check-input",checked:r,onChange:s})})}))},X="https://quiz.datacubeindia.com/quiz",V="".concat(X,"/quiz"),W="".concat(X,"/quizType"),J=function(e){return u().post("".concat(V,"/quizSetting"),e).then((function(e){return e.data})).then((function(e){return e.data}))},G=function(e,t){return u().put("".concat(V,"/").concat(t),e).then((function(e){return e.data})).then((function(e){return e.data}))},K=(0,i.createContext)({allCourses:[],allSubjects:[]}),Y=function(e){var t=e.children,n=(0,i.useState)(),r=(0,a.Z)(n,2),s=r[0],c=r[1],l=(0,i.useState)(),o=(0,a.Z)(l,2),d=o[0],m=o[1];(0,i.useEffect)((function(){f()}),[]);var f=function(){var e=(0,F.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat("https://quiz.datacubeindia.com/common/course")).then((function(e){return e.data})).then((function(e){c(e)})).catch((function(e){console.log(e)}));case 2:return e.next=4,u().get("".concat("https://quiz.datacubeindia.com/common/subject")).then((function(e){return e.data})).then((function(e){m(e)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(K.Provider,{value:{allCourses:s,allSubjects:d},children:t})},$=function(){return(0,i.useContext)(K)},ee=function(e){var t=e.subject_id,n=$().allSubjects,r=null===n||void 0===n?void 0:n.find((function(e){return e.id==t}));return(0,p.jsx)("div",{className:"d-flex align-items-center",children:(0,p.jsx)("div",{className:"d-flex flex-column",children:null===r||void 0===r?void 0:r.subject_name})})},te=function(e){var t=e.question_type;return(0,p.jsx)("div",{className:"fw-bolder",children:t})},ne=[{Header:function(e){return(0,p.jsx)(B,{tableProps:e})},id:"selection",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(U,{id:t.data[t.row.index].id})}},{Header:function(e){return(0,p.jsx)(R,{tableProps:e,title:"ID",className:"min-w-125px"})},accessor:"id"},{Header:function(e){return(0,p.jsx)(R,{tableProps:e,title:"Question",className:"min-w-125px"})},id:"questions",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(A,{user:t.data[t.row.index]})}},{Header:function(e){return(0,p.jsx)(R,{tableProps:e,title:"Subject",className:"min-w-125px"})},id:"subject",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(ee,{subject_id:t.data[t.row.index].subject_id})}},{Header:function(e){return(0,p.jsx)(R,{tableProps:e,title:"Type",className:"min-w-125px"})},id:"question_type",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(te,{question_type:t.data[t.row.index].question_type})}},{Header:function(e){return(0,p.jsx)(R,{tableProps:e,title:"Level",className:"min-w-125px"})},id:"level",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(L,{level:t.data[t.row.index].level})}},{Header:function(e){return(0,p.jsx)(R,{tableProps:e,title:"Action",className:"min-w-125px"})},id:"active",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(O,{id:t.data[t.row.index].id})}}],re=function(){return(0,p.jsx)("div",{style:(0,l.Z)((0,l.Z)({},{borderRadius:"0.475rem",boxShadow:"0 0 50px 0 rgb(82 63 105 / 15%)",backgroundColor:"#fff",color:"#7e8299",fontWeight:"500",margin:"0",width:"auto",padding:"1rem 2rem",top:"calc(50% - 2rem)",left:"calc(50% - 4rem)"}),{},{position:"absolute",textAlign:"center"}),children:"Processing..."})},se=function(){var e,t=function(){var e=(0,l.Z)({links:[]},c.Xw),t=N().response;return t&&t.payload&&t.payload.pagination?t.payload.pagination:e}(),n=k(),r=j().updateState;return(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-sm-12 col-md-5 d-flex align-items-center justify-content-center justify-content-md-start"}),(0,p.jsx)("div",{className:"col-sm-12 col-md-7 d-flex align-items-center justify-content-center justify-content-md-end",children:(0,p.jsx)("div",{id:"kt_table_users_paginate",children:(0,p.jsx)("ul",{className:"pagination",children:null===(e=t.links)||void 0===e?void 0:e.map((function(e){return(0,p.jsx)("li",{className:(0,H.Z)("page-item",{active:t.page===e.page,disabled:n,previous:"&laquo; Previous"===e.label,next:"Next &raquo;"===e.label}),children:(0,p.jsx)("a",{className:"page-link",onClick:function(){var s;(s=e.page)&&!n&&t.page!==s&&r({page:s,items_per_page:t.items_per_page||10})},dangerouslySetInnerHTML:{__html:e.label},style:{cursor:"pointer"}})},e.label)}))})})})]})},ae=function(){var e=w(),t=k(),n=(0,i.useMemo)((function(){return e}),[e]),r=(0,i.useMemo)((function(){return ne}),[]),s=(0,E.useTable)({columns:r,data:n}),a=s.getTableProps,o=s.getTableBodyProps,d=s.headers,u=s.rows,m=s.prepareRow;return(0,p.jsxs)(c.mN,{className:"py-4",children:[(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)("table",(0,l.Z)((0,l.Z)({id:"kt_table_users",className:"table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer"},a()),{},{children:[(0,p.jsx)("thead",{children:(0,p.jsx)("tr",{className:"text-start text-muted fw-bolder fs-7 text-uppercase gs-0",children:d.map((function(e){return(0,p.jsx)(M,{column:e},e.id)}))})}),(0,p.jsx)("tbody",(0,l.Z)((0,l.Z)({className:"text-gray-600 fw-bold"},o()),{},{children:u.length>0?u.map((function(e,t){return m(e),(0,p.jsx)(D,{row:e},"row-".concat(t,"-").concat(e.id))})):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:7,children:(0,p.jsx)("div",{className:"d-flex text-center w-100 align-content-center justify-content-center",children:"No matching records found"})})})}))]}))}),(0,p.jsx)(se,{}),t&&(0,p.jsx)(re,{})]})},ie=function(){S().itemIdForUpdate;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(c.O7,{children:[(0,p.jsx)(Q,{}),(0,p.jsx)(ae,{})]})})},ce=function(){return(0,p.jsx)(v,{children:(0,p.jsx)(g,{children:(0,p.jsx)(_,{children:(0,p.jsx)(Y,{children:(0,p.jsx)(ie,{})})})})})},le="".concat("https://quiz.datacubeindia.com/question","/question"),oe="https://quiz.datacubeindia.com/quiz/quiz",de=function(e){return u().get("".concat(le,"?").concat(e)).then((function(e){return e.data}))},ue=(0,i.createContext)(c.vv),me=function(e){var t=e.children,n=(0,i.useState)(c.vv.state),r=(0,a.Z)(n,2),s=r[0],o=r[1];return(0,p.jsx)(ue.Provider,{value:{state:s,updateState:function(e){var t=(0,l.Z)((0,l.Z)({},s),e);o(t)}},children:t})},fe=function(){return(0,i.useContext)(ue)},xe=(0,c.gl)(c.B2),pe=function(e){var t=e.children,n=fe().state,r=(0,i.useState)((0,c.gJ)(n)),s=(0,a.Z)(r,2),l=s[0],d=s[1],u=(0,i.useMemo)((function(){return(0,c.gJ)(n)}),[n]);(0,i.useEffect)((function(){l!==u&&d(u)}),[u]);var m=(0,o.useQuery)("".concat(c.vb.USERS_LIST,"-").concat(l),(function(){return de(l)}),{cacheTime:0,keepPreviousData:!0,refetchOnWindowFocus:!1}),f=m.isFetching,x=m.refetch,h=m.data;return(0,p.jsx)(xe.Provider,{value:{isLoading:f,refetch:x,response:h,query:l},children:t})},he=function(){return(0,i.useContext)(xe)},ve=function(){var e=he().response;return e&&(null===e||void 0===e?void 0:e.data)||[]},je=function(){return he().isLoading},be=(0,i.createContext)(c.px),ge=function(e){var t=e.children,n=(0,i.useState)(c.px.selected),r=(0,a.Z)(n,2),s=r[0],l=r[1],o=(0,i.useState)(c.px.itemIdForUpdate),d=(0,a.Z)(o,2),u=d[0],m=d[1],f=he().isLoading,x=ve(),h=(0,i.useMemo)((function(){return(0,c.Qx)(f,x)}),[f,x]),v=(0,i.useMemo)((function(){return(0,c.HX)(x,s)}),[x,s]);return(0,p.jsx)(be.Provider,{value:{selected:s,itemIdForUpdate:u,setItemIdForUpdate:m,disabled:h,isAllSelected:v,onSelect:function(e){(0,c.G8)(e,s,l)},onSelectAll:function(){(0,c.ir)(v,l,x)},clearSelected:function(){l([])}},children:t})},Ne=function(){return(0,i.useContext)(be)},we=function(){var e=fe().updateState,t=he().isLoading,n=(0,i.useState)(),r=(0,a.Z)(n,2),s=r[0],o=r[1],d=(0,i.useState)(),u=(0,a.Z)(d,2),m=u[0],f=u[1];(0,i.useEffect)((function(){q.Mn.reinitialization()}),[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{disabled:t,type:"button",className:"btn btn-light-primary me-3","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:[(0,p.jsx)(c.D8,{path:"/media/icons/duotune/general/gen031.svg",className:"svg-icon-2"}),"Filter"]}),(0,p.jsxs)("div",{className:"menu menu-sub menu-sub-dropdown w-300px w-md-325px","data-kt-menu":"true",children:[(0,p.jsx)("div",{className:"px-7 py-5",children:(0,p.jsx)("div",{className:"fs-5 text-dark fw-bolder",children:"Filter Options"})}),(0,p.jsx)("div",{className:"separator border-gray-200"}),(0,p.jsxs)("div",{className:"px-7 py-5","data-kt-user-table-filter":"form",children:[(0,p.jsxs)("div",{className:"mb-10",children:[(0,p.jsx)("label",{className:"form-label fs-6 fw-bold",children:"Question Type:"}),(0,p.jsxs)("select",{className:"form-select form-select-solid fw-bolder","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true","data-kt-user-table-filter":"role","data-hide-search":"true",onChange:function(e){return o(e.target.value)},value:s,children:[(0,p.jsx)("option",{value:""}),(0,p.jsx)("option",{value:"Objective",children:"Objective"}),(0,p.jsx)("option",{value:"True/False",children:"True/False"}),(0,p.jsx)("option",{value:"Fill In The Blanks",children:"Fill In The Blanks"}),(0,p.jsx)("option",{value:"Subjective",children:"Subjective"})]})]}),(0,p.jsxs)("div",{className:"mb-10",children:[(0,p.jsx)("label",{className:"form-label fs-6 fw-bold",children:"Difficulty Level:"}),(0,p.jsxs)("select",{className:"form-select form-select-solid fw-bolder","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true","data-kt-user-table-filter":"two-step","data-hide-search":"true",onChange:function(e){return f(e.target.value)},value:m,children:[(0,p.jsx)("option",{value:""}),(0,p.jsx)("option",{value:"Easy",children:"Easy"}),(0,p.jsx)("option",{value:"Moderate",children:"Moderate"}),(0,p.jsx)("option",{value:"Difficult",children:"Difficult"})]})]}),(0,p.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,p.jsx)("button",{type:"button",disabled:t,onClick:function(){e((0,l.Z)({filter:void 0},c.Xw)),o(""),f("")},className:"btn btn-light btn-active-light-primary fw-bold me-2 px-6","data-kt-menu-dismiss":"true","data-kt-user-table-filter":"reset",children:"Reset"}),(0,p.jsx)("button",{disabled:t,type:"button",onClick:function(){e((0,l.Z)({filter:{question_type:s,level:m}},c.Xw))},className:"btn btn-primary fw-bold px-6","data-kt-menu-dismiss":"true","data-kt-user-table-filter":"filter",children:"Apply"})]})]})]})]})},ke=function(){ve(),Ne().setItemIdForUpdate;var e=(0,r.s0)();(0,i.useEffect)((function(){return window.addEventListener("popstate",t),function(){window.removeEventListener("popstate",t)}}),[]);var t=function(){e("/quiz")};return(0,p.jsxs)("div",{className:"d-flex justify-content-end","data-kt-user-table-toolbar":"base",children:[(0,p.jsx)(we,{}),(0,p.jsxs)(Z.rU,{to:"/quiz",className:"btn btn-primary",children:[(0,p.jsx)(c.D8,{path:"/media/icons/duotune/arrows/arr002.svg",className:"svg-icon-2"}),"Back To Quiz"]})]})},ye=function(){var e=(0,r.UO)().id,t=Ne(),n=t.selected,s=t.clearSelected,a=((0,o.useQueryClient)(),he().query),i=(0,o.useMutation)((function(){return function(e){var t=e.map((function(e){return u().delete("".concat(oe,"/question/").concat(e))}));return u().all(t).then((function(){}))}(n)}),{onSuccess:function(){de(a),s(),window.location.reload()}}),c=(0,o.useMutation)((function(){return function(e,t){var n=e.map((function(e){return u().post("".concat(oe,"/addQuestion"),{quiz_id:t,question_bank_id:e})}));return u().all(n).then((function(){}))}(n,e)}),{onSuccess:function(){de(a),s(),window.location.reload()}});return(0,p.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[(0,p.jsxs)("div",{className:"fw-bolder me-5",children:[(0,p.jsx)("span",{className:"me-2",children:n.length})," Selected"]}),(0,p.jsx)("button",{type:"button",className:"btn btn-primary me-5",onClick:(0,F.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Add to Quiz"}),(0,p.jsx)("button",{type:"button",className:"btn btn-danger",onClick:(0,F.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Delete from Quiz"})]})},_e=function(){var e=fe().updateState,t=(0,i.useState)(""),n=(0,a.Z)(t,2),r=n[0],s=n[1],o=(0,c.Nr)(r,150);return(0,i.useEffect)((function(){void 0!==o&&void 0!==r&&e((0,l.Z)({search:o},c.Xw))}),[o]),(0,p.jsx)("div",{className:"card-title",children:(0,p.jsxs)("div",{className:"d-flex align-items-center position-relative my-1",children:[(0,p.jsx)(c.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-1 position-absolute ms-6"}),(0,p.jsx)("input",{type:"text","data-kt-user-table-filter":"search",className:"form-control form-control-solid w-250px ps-14",placeholder:"Search Question",value:r,onChange:function(e){return s(e.target.value)}})]})})},Se=function(){var e=Ne().selected;return(0,p.jsxs)("div",{className:"card-header border-0 pt-6",children:[(0,p.jsx)(_e,{}),(0,p.jsx)("div",{className:"card-toolbar",children:e.length>0?(0,p.jsx)(ye,{}):(0,p.jsx)(ke,{})})]})},Ze=function(e){var t=e.column;return(0,p.jsx)(p.Fragment,{children:t.Header&&"string"===typeof t.Header?(0,p.jsx)("th",(0,l.Z)((0,l.Z)({},t.getHeaderProps()),{},{children:t.render("Header")})):t.render("Header")})},qe=function(e){var t=e.row;return(0,p.jsx)("tr",(0,l.Z)((0,l.Z)({},t.getRowProps()),{},{children:t.cells.map((function(e){return(0,p.jsx)("td",(0,l.Z)((0,l.Z)({},e.getCellProps()),{},{className:(0,H.Z)({"text-end min-w-100px":"actions"===e.column.id}),children:e.render("Cell")}))}))}))},Ce=function(e){var t=e.user,n=Ne().setItemIdForUpdate,r=function(){n(t.id)};function s(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}return(0,p.jsx)("div",{className:"d-flex align-items-center",children:(0,p.jsx)("div",{className:"d-flex flex-column",children:t.questions.length>0&&t.questions.map((function(e,t){return(0,p.jsx)("a",{onClick:r,style:{cursor:"pointer"},className:"text-gray-800 text-hover-primary mb-1",children:s(e.question)},t)}))})})},ze=function(e){var t=e.level;return(0,p.jsx)("div",{className:"fw-bolder",children:t})},Pe=function(e){var t=e.className,n=e.title,r=e.tableProps,s=r.column.id,a=fe(),o=a.state,d=a.updateState,u=(0,i.useMemo)((function(){return o.sort&&o.sort===s}),[o,s]),m=(0,i.useMemo)((function(){return o.order}),[o]);return(0,p.jsx)("th",(0,l.Z)((0,l.Z)({},r.column.getHeaderProps()),{},{className:(0,H.Z)(t,u&&void 0!==m&&"table-sort-".concat(m)),style:{cursor:"pointer"},onClick:function(){if("actions"!==s&&"selection"!==s)if(u){if(u&&void 0!==m){if("asc"===m)return void d((0,l.Z)({sort:s,order:"desc"},c.Xw));d((0,l.Z)({sort:void 0,order:void 0},c.Xw))}}else d((0,l.Z)({sort:s,order:"asc"},c.Xw))},children:n}))},Fe=function(e){var t=e.subject_id,n=$().allSubjects,r=null===n||void 0===n?void 0:n.find((function(e){return e.id==t}));return(0,p.jsx)("div",{className:"d-flex align-items-center",children:(0,p.jsx)("div",{className:"d-flex flex-column",children:null===r||void 0===r?void 0:r.subject_name})})},Te=function(e){var t=e.question_type;return(0,p.jsx)("div",{className:"fw-bolder",children:t})},Ie=function(e){var t=e.marks;return(0,p.jsx)("div",{className:"fw-bolder",children:null===t||void 0===t?void 0:t.marks})},Qe=[{Header:function(e){return(0,p.jsx)(Pe,{tableProps:e,title:"ID",className:"min-w-125px"})},accessor:"id"},{Header:function(e){return(0,p.jsx)(Pe,{tableProps:e,title:"Question",className:"min-w-125px"})},id:"questions",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(Ce,{user:t.data[t.row.index]})}},{Header:function(e){return(0,p.jsx)(Pe,{tableProps:e,title:"Subject",className:"min-w-125px"})},id:"subject",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(Fe,{subject_id:t.data[t.row.index].subject_id})}},{Header:function(e){return(0,p.jsx)(Pe,{tableProps:e,title:"Type",className:"min-w-125px"})},id:"question_type",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(Te,{question_type:t.data[t.row.index].question_type})}},{Header:function(e){return(0,p.jsx)(Pe,{tableProps:e,title:"Level",className:"min-w-125px"})},id:"level",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(ze,{level:t.data[t.row.index].level})}},{Header:function(e){return(0,p.jsx)(Pe,{tableProps:e,title:"Marks",className:"min-w-125px"})},id:"marks",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(Ie,{marks:t.data[t.row.index].marks})}}],Ee=function(){return(0,p.jsx)("div",{style:(0,l.Z)((0,l.Z)({},{borderRadius:"0.475rem",boxShadow:"0 0 50px 0 rgb(82 63 105 / 15%)",backgroundColor:"#fff",color:"#7e8299",fontWeight:"500",margin:"0",width:"auto",padding:"1rem 2rem",top:"calc(50% - 2rem)",left:"calc(50% - 4rem)"}),{},{position:"absolute",textAlign:"center"}),children:"Processing..."})},Me=function(){var e,t=function(){var e=(0,l.Z)({links:[]},c.Xw),t=he().response;return t&&t.payload&&t.payload.pagination?t.payload.pagination:e}(),n=je(),r=fe().updateState;return(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-sm-12 col-md-5 d-flex align-items-center justify-content-center justify-content-md-start"}),(0,p.jsx)("div",{className:"col-sm-12 col-md-7 d-flex align-items-center justify-content-center justify-content-md-end",children:(0,p.jsx)("div",{id:"kt_table_users_paginate",children:(0,p.jsx)("ul",{className:"pagination",children:null===(e=t.links)||void 0===e?void 0:e.map((function(e){return(0,p.jsx)("li",{className:(0,H.Z)("page-item",{active:t.page===e.page,disabled:n,previous:"&laquo; Previous"===e.label,next:"Next &raquo;"===e.label}),children:(0,p.jsx)("a",{className:"page-link",onClick:function(){var s;(s=e.page)&&!n&&t.page!==s&&r({page:s,items_per_page:t.items_per_page||10})},dangerouslySetInnerHTML:{__html:e.label},style:{cursor:"pointer"}})},e.label)}))})})})]})},He=function(){(0,r.UO)().id;var e=ve(),t=je(),n=(0,i.useMemo)((function(){return e}),[e]),s=(0,i.useMemo)((function(){return Qe}),[]),a=(0,E.useTable)({columns:s,data:n}),o=a.getTableProps,d=a.getTableBodyProps,u=a.headers,m=a.rows,f=a.prepareRow;return(0,p.jsxs)(c.mN,{className:"py-4",children:[(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)("table",(0,l.Z)((0,l.Z)({id:"kt_table_users",className:"table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer"},o()),{},{children:[(0,p.jsx)("thead",{children:(0,p.jsx)("tr",{className:"text-start text-muted fw-bolder fs-7 text-uppercase gs-0",children:u.map((function(e){return(0,p.jsx)(Ze,{column:e},e.id)}))})}),(0,p.jsx)("tbody",(0,l.Z)((0,l.Z)({className:"text-gray-600 fw-bold"},d()),{},{children:m.length>0?m.map((function(e,t){return f(e),(0,p.jsx)(qe,{row:e},"row-".concat(t,"-").concat(e.id))})):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:7,children:(0,p.jsx)("div",{className:"d-flex text-center w-100 align-content-center justify-content-center",children:"No matching records found"})})})}))]}))}),(0,p.jsx)(Me,{}),t&&(0,p.jsx)(Ee,{})]})},De=function(){Ne().itemIdForUpdate;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(c.O7,{children:[(0,p.jsx)(Se,{}),(0,p.jsx)(He,{})]})})},Ae=function(){return(0,p.jsx)(me,{children:(0,p.jsx)(pe,{children:(0,p.jsx)(ge,{children:(0,p.jsx)(Y,{children:(0,p.jsx)(De,{})})})})})},Le=(0,i.createContext)(c.vv),Oe=function(e){var t=e.children,n=(0,i.useState)(c.vv.state),r=(0,a.Z)(n,2),s=r[0],o=r[1];return(0,p.jsx)(Le.Provider,{value:{state:s,updateState:function(e){var t=(0,l.Z)((0,l.Z)({},s),e);o(t)}},children:t})},Ue=function(){return(0,i.useContext)(Le)},Re=(0,c.gl)(c.B2),Be=function(e){var t=e.children,n=Ue().state,r=(0,i.useState)((0,c.gJ)(n)),s=(0,a.Z)(r,2),l=s[0],d=s[1],m=(0,i.useMemo)((function(){return(0,c.gJ)(n)}),[n]);(0,i.useEffect)((function(){l!==m&&d(m)}),[m]);var f=(0,o.useQuery)("".concat(c.vb.USERS_LIST,"-").concat(l),(function(){return function(e){return u().get("".concat(V,"?").concat(e)).then((function(e){return e.data}))}(l)}),{cacheTime:0,keepPreviousData:!0,refetchOnWindowFocus:!1}),x=f.isFetching,h=f.refetch,v=f.data;return(0,p.jsx)(Re.Provider,{value:{isLoading:x,refetch:h,response:v,query:l},children:t})},Xe=function(){return(0,i.useContext)(Re)},Ve=function(){var e=Xe().response;return e&&(null===e||void 0===e?void 0:e.data)||[]},We=function(){return Xe().isLoading},Je=(0,i.createContext)(c.px),Ge=function(e){var t=e.children,n=(0,i.useState)(c.px.selected),r=(0,a.Z)(n,2),s=r[0],l=r[1],o=(0,i.useState)(c.px.itemIdForUpdate),d=(0,a.Z)(o,2),u=d[0],m=d[1],f=Xe().isLoading,x=Ve(),h=(0,i.useMemo)((function(){return(0,c.Qx)(f,x)}),[f,x]),v=(0,i.useMemo)((function(){return(0,c.HX)(x,s)}),[x,s]);return(0,p.jsx)(Je.Provider,{value:{selected:s,itemIdForUpdate:u,setItemIdForUpdate:m,disabled:h,isAllSelected:v,onSelect:function(e){(0,c.G8)(e,s,l)},onSelectAll:function(){(0,c.ir)(v,l,x)},clearSelected:function(){l([])}},children:t})},Ke=function(){return(0,i.useContext)(Je)},Ye=n(8472),$e=function(e){var t=e.csvData,n=e.fileName;return(0,p.jsxs)("button",{type:"button",className:"btn btn-light-primary me-3",children:[(0,p.jsx)(c.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),(0,p.jsx)(Ye.CSVLink,{data:t,filename:n,children:"Export"})]})},et=function(){var e=Ve(),t=Ke().setItemIdForUpdate;return(0,p.jsxs)("div",{className:"d-flex justify-content-end","data-kt-user-table-toolbar":"base",children:[(0,p.jsx)($e,{csvData:e,fileName:"quiz"}),(0,p.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){t(null)},children:[(0,p.jsx)(c.D8,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"}),"Add Quiz"]})]})},tt=function(){var e=Ke(),t=e.selected,n=e.clearSelected,r=(0,o.useQueryClient)(),s=Xe().query,a=(0,o.useMutation)((function(){return function(e){var t=e.map((function(e){return u().delete("".concat(V,"/").concat(e))}));return u().all(t).then((function(){}))}(t)}),{onSuccess:function(){r.invalidateQueries(["".concat(c.vb.USERS_LIST,"-").concat(s)]),n()}});return(0,p.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[(0,p.jsxs)("div",{className:"fw-bolder me-5",children:[(0,p.jsx)("span",{className:"me-2",children:t.length})," Selected"]}),(0,p.jsx)("button",{type:"button",className:"btn btn-danger",onClick:(0,F.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Delete Selected"})]})},nt=function(){var e=Ue().updateState,t=(0,i.useState)(""),n=(0,a.Z)(t,2),r=n[0],s=n[1],o=(0,c.Nr)(r,150);return(0,i.useEffect)((function(){void 0!==o&&void 0!==r&&e((0,l.Z)({search:o},c.Xw))}),[o]),(0,p.jsx)("div",{className:"card-title",children:(0,p.jsxs)("div",{className:"d-flex align-items-center position-relative my-1",children:[(0,p.jsx)(c.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-1 position-absolute ms-6"}),(0,p.jsx)("input",{type:"text","data-kt-user-table-filter":"search",className:"form-control form-control-solid w-250px ps-14",placeholder:"Search Quiz",value:r,onChange:function(e){return s(e.target.value)}})]})})},rt=function(){var e=Ke().selected;return(0,p.jsxs)("div",{className:"card-header border-0 pt-6",children:[(0,p.jsx)(nt,{}),(0,p.jsx)("div",{className:"card-toolbar",children:e.length>0?(0,p.jsx)(tt,{}):(0,p.jsx)(et,{})})]})},st=function(e){var t=e.column;return(0,p.jsx)(p.Fragment,{children:t.Header&&"string"===typeof t.Header?(0,p.jsx)("th",(0,l.Z)((0,l.Z)({},t.getHeaderProps()),{},{children:t.render("Header")})):t.render("Header")})},at=function(e){var t=e.row;return(0,p.jsx)("tr",(0,l.Z)((0,l.Z)({},t.getRowProps()),{},{children:t.cells.map((function(e){return(0,p.jsx)("td",(0,l.Z)((0,l.Z)({},e.getCellProps()),{},{className:(0,H.Z)({"text-end min-w-100px":"actions"===e.column.id}),children:e.render("Cell")}))}))}))},it=function(e){var t=e.user;console.log(t,"user");var n=Ke().setItemIdForUpdate;return(0,p.jsx)("div",{className:"d-flex align-items-center",children:(0,p.jsx)("div",{className:"d-flex flex-column",children:(0,p.jsxs)("a",{onClick:function(){n(t.id)},style:{cursor:"pointer"},className:"text-gray-800 text-hover-primary mb-1",children:[" ",t.name]})})})},ct=function(e){var t=e.createdAt;return(0,p.jsx)("div",{className:"badge badge-light fw-bolder",children:t})},lt=n(1830),ot=n.n(lt),dt=function(e){var t=e.status,n=e.id,r=(0,i.useState)(t),s=(0,a.Z)(r,2),c=s[0],l=s[1];return console.log(c,"stat"),(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsx)("label",{className:"form-check form-check-custom form-check-solid form-switch mb-5",children:(0,p.jsx)("input",{className:"form-check-input",type:"checkbox",name:"status",checked:c,onChange:function(){var e=(0,F.Z)((0,P.Z)().mark((function e(t){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(t.currentTarget.checked),e.next=3,G({status:t.currentTarget.checked?1:0},n);case 3:ot().fire({title:"Success!",text:"Status updated successfully!",icon:"success",confirmButtonText:"Okay"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})]})},ut=function(e){var t=e.id,n=Ke().setItemIdForUpdate,r=Xe().query,s=(0,o.useQueryClient)();(0,i.useEffect)((function(){q.Mn.reinitialization()}),[]);var a=(0,o.useMutation)((function(){return e=t,u().delete("".concat(V,"/").concat(e)).then((function(){}));var e}),{onSuccess:function(){s.invalidateQueries(["".concat(c.vb.USERS_LIST,"-").concat(r)])}});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("a",{href:"#",className:"btn btn-light btn-active-light-primary btn-sm","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:(0,p.jsx)("i",{className:"bi bi-three-dots-vertical fs-5"})}),(0,p.jsxs)("div",{className:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold fs-7 w-125px py-4","data-kt-menu":"true",children:[(0,p.jsx)("div",{className:"menu-item",children:(0,p.jsx)("a",{className:"menu-link px-3",onClick:function(){n(t)},children:"Edit"})}),(0,p.jsx)("div",{className:"menu-item",children:(0,p.jsx)("a",{className:"menu-link px-3","data-kt-users-table-filter":"delete_row",onClick:(0,F.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.mutateAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Delete"})}),(0,p.jsx)("div",{className:"menu-item",children:(0,p.jsx)(Z.rU,{to:"/quiz/add-question/".concat(t),className:"menu-link px-3","data-kt-users-table-filter":"delete_row",children:"Add Question"})}),(0,p.jsx)("div",{className:"menu-item",children:(0,p.jsx)(Z.rU,{to:"/quiz/view-question/".concat(t),className:"menu-link px-3","data-kt-users-table-filter":"delete_row",children:"View Question"})})]})]})},mt=function(e){var t=e.id,n=Ke(),r=n.selected,s=n.onSelect,a=(0,i.useMemo)((function(){return r.includes(t)}),[t,r]);return(0,p.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid",children:(0,p.jsx)("input",{className:"form-check-input",type:"checkbox","data-kt-check":a,"data-kt-check-target":"#kt_table_users .form-check-input",checked:a,onChange:function(){return s(t)}})})},ft=function(e){var t=e.className,n=e.title,r=e.tableProps,s=r.column.id,a=Ue(),o=a.state,d=a.updateState,u=(0,i.useMemo)((function(){return o.sort&&o.sort===s}),[o,s]),m=(0,i.useMemo)((function(){return o.order}),[o]);return(0,p.jsx)("th",(0,l.Z)((0,l.Z)({},r.column.getHeaderProps()),{},{className:(0,H.Z)(t,u&&void 0!==m&&"table-sort-".concat(m)),style:{cursor:"pointer"},onClick:function(){if("actions"!==s&&"selection"!==s)if(u){if(u&&void 0!==m){if("asc"===m)return void d((0,l.Z)({sort:s,order:"desc"},c.Xw));d((0,l.Z)({sort:void 0,order:void 0},c.Xw))}}else d((0,l.Z)({sort:s,order:"asc"},c.Xw))},children:n}))},xt=function(e){var t=e.tableProps,n=Ke(),r=n.isAllSelected,s=n.onSelectAll;return(0,p.jsx)("th",(0,l.Z)((0,l.Z)({},t.column.getHeaderProps()),{},{className:"w-10px pe-2",children:(0,p.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid me-3",children:(0,p.jsx)("input",{className:"form-check-input",type:"checkbox","data-kt-check":r,"data-kt-check-target":"#kt_table_users .form-check-input",checked:r,onChange:s})})}))},pt=function(e){var t,n,r=e.courses,s=$().allCourses,a=null===s||void 0===s?void 0:s.filter((function(e){return null===r||void 0===r?void 0:r.some((function(t){return t.course_id===e.id}))}));return a=null===(t=a)||void 0===t?void 0:t.flatMap((function(e){return[e.course_name]})),(0,p.jsx)("div",{className:"d-flex align-items-center",children:(0,p.jsx)("div",{className:"d-flex flex-column",children:null===(n=a)||void 0===n?void 0:n.join(", ")})})},ht=function(e){var t=e.subject_id,n=$().allSubjects,r=null===n||void 0===n?void 0:n.find((function(e){return e.id==t}));return(0,p.jsx)("div",{className:"d-flex align-items-center",children:(0,p.jsx)("div",{className:"d-flex flex-column",children:null===r||void 0===r?void 0:r.subject_name})})},vt=[{Header:function(e){return(0,p.jsx)(xt,{tableProps:e})},id:"selection",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(mt,{id:t.data[t.row.index].id})}},{Header:function(e){return(0,p.jsx)(ft,{tableProps:e,title:"ID",className:"min-w-125px"})},accessor:"id"},{Header:function(e){return(0,p.jsx)(ft,{tableProps:e,title:"Quiz Name",className:"min-w-125px"})},id:"name",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(it,{user:t.data[t.row.index]})}},{Header:function(e){return(0,p.jsx)(ft,{tableProps:e,title:"Courses",className:"min-w-125px"})},id:"courses",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(pt,{courses:t.data[t.row.index].courses})}},{Header:function(e){return(0,p.jsx)(ft,{tableProps:e,title:"Subject",className:"min-w-125px"})},id:"subject",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(ht,{subject_id:t.data[t.row.index].subject_id})}},{Header:function(e){return(0,p.jsx)(ft,{tableProps:e,title:"Added Date",className:"min-w-125px"})},id:"createdAt",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(ct,{createdAt:t.data[t.row.index].createdAt})}},{Header:function(e){return(0,p.jsx)(ft,{tableProps:e,title:"Active",className:"min-w-125px"})},id:"active",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(dt,{status:t.data[t.row.index].status,id:t.data[t.row.index].id})}},{Header:function(e){return(0,p.jsx)(ft,{tableProps:e,title:"Actions",className:"text-end min-w-100px"})},id:"actions",Cell:function(e){var t=Object.assign({},e);return(0,p.jsx)(ut,{id:t.data[t.row.index].id})}}],jt=function(){return(0,p.jsx)("div",{style:(0,l.Z)((0,l.Z)({},{borderRadius:"0.475rem",boxShadow:"0 0 50px 0 rgb(82 63 105 / 15%)",backgroundColor:"#fff",color:"#7e8299",fontWeight:"500",margin:"0",width:"auto",padding:"1rem 2rem",top:"calc(50% - 2rem)",left:"calc(50% - 4rem)"}),{},{position:"absolute",textAlign:"center"}),children:"Processing..."})},bt=function(){var e,t=function(){var e=(0,l.Z)({links:[]},c.Xw),t=Xe().response;return t&&t.payload&&t.payload.pagination?t.payload.pagination:e}(),n=We(),r=Ue().updateState;return(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-sm-12 col-md-5 d-flex align-items-center justify-content-center justify-content-md-start"}),(0,p.jsx)("div",{className:"col-sm-12 col-md-7 d-flex align-items-center justify-content-center justify-content-md-end",children:(0,p.jsx)("div",{id:"kt_table_users_paginate",children:(0,p.jsx)("ul",{className:"pagination",children:null===(e=t.links)||void 0===e?void 0:e.map((function(e){return(0,p.jsx)("li",{className:(0,H.Z)("page-item",{active:t.page===e.page,disabled:n,previous:"&laquo; Previous"===e.label,next:"Next &raquo;"===e.label}),children:(0,p.jsx)("a",{className:"page-link",onClick:function(){var s;(s=e.page)&&!n&&t.page!==s&&r({page:s,items_per_page:t.items_per_page||10})},dangerouslySetInnerHTML:{__html:e.label},style:{cursor:"pointer"}})},e.label)}))})})})]})},gt=function(){var e=Ve(),t=We(),n=(0,i.useMemo)((function(){return e}),[e]),r=(0,i.useMemo)((function(){return vt}),[]),s=(0,E.useTable)({columns:r,data:n}),a=s.getTableProps,o=s.getTableBodyProps,d=s.headers,u=s.rows,m=s.prepareRow;return(0,p.jsxs)(c.mN,{className:"py-4",children:[(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)("table",(0,l.Z)((0,l.Z)({id:"kt_table_users",className:"table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer"},a()),{},{children:[(0,p.jsx)("thead",{children:(0,p.jsx)("tr",{className:"text-start text-muted fw-bolder fs-7 text-uppercase gs-0",children:d.map((function(e){return(0,p.jsx)(st,{column:e},e.id)}))})}),(0,p.jsx)("tbody",(0,l.Z)((0,l.Z)({className:"text-gray-600 fw-bold"},o()),{},{children:u.length>0?u.map((function(e,t){return m(e),(0,p.jsx)(at,{row:e},"row-".concat(t,"-").concat(e.id))})):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:7,children:(0,p.jsx)("div",{className:"d-flex text-center w-100 align-content-center justify-content-center",children:"No matching records found"})})})}))]}))}),(0,p.jsx)(bt,{}),t&&(0,p.jsx)(jt,{})]})},Nt=function(){var e=Ke().setItemIdForUpdate;return(0,p.jsxs)("div",{className:"modal-header",children:[(0,p.jsx)("h2",{className:"fw-bolder",children:"Add Quiz"}),(0,p.jsx)("div",{className:"btn btn-icon btn-sm btn-active-icon-primary","data-kt-users-modal-action":"close",onClick:function(){return e(void 0)},style:{cursor:"pointer"},children:(0,p.jsx)(c.D8,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-1"})})]})},wt=n(5173),kt=n(6863),yt=[kt.Ry().shape({name:kt.Z_().required("Name is required"),quiz_type_id:kt.Rx().required("Quiz Type is required"),courses:kt.IX().min(1),subject_id:kt.Rx().required("Subject id is required"),duration:kt.Rx().required("Quiz duration is required"),language:kt.Z_().required("Quiz language is required"),total_questions:kt.Rx().required("Total questions is required"),marks:kt.Rx().required("Marks are required")}),kt.Ry().shape({dates:kt.Ry().shape({question_time:kt.Rx().required("Question time is required"),reg_open_date:kt.hT().required("Registration open date is required"),start_date:kt.hT().required("Start date is required"),result_publish_date:kt.hT().required("Result publish date is required")}),prize:kt.Ry().shape({total_spots:kt.Rx().required("Total spots is required"),entry_fee:kt.Rx().required("Entry fee is required"),total_winner_percentage:kt.Rx().required("Winner percentage is required"),prize_distribution_percentage:kt.Rx().required("Prize distribution is required")})})],_t={id:void 0,subject_id:void 0,quiz_type_id:void 0,question_type_id:void 0,courses:[],marks:void 0,questions:[],name:"",duration:void 0,total_questions:void 0,language:"",dates:{},prize:{}},St=n(4136),Zt=function(e){var t=e.setFieldValue,n=e.values,r=(e.touched,e.setFieldError,e.errors,$()),s=r.allCourses,c=r.allSubjects,l=(0,i.useState)(s),o=(0,a.Z)(l,2),d=o[0],m=(o[1],(0,i.useState)(n.id?c:[])),f=(0,a.Z)(m,2),x=f[0],h=f[1],v=(0,i.useState)(null),j=(0,a.Z)(v,2),b=j[0],g=j[1],N=(0,i.useState)([]),w=(0,a.Z)(N,2),k=w[0],y=w[1],_=(0,i.useState)([]),S=(0,a.Z)(_,2),Z=S[0],q=S[1],C=[{label:"Hindi",value:"Hindi"},{label:"English",value:"English"}];(0,i.useEffect)((function(){n.language}),[n]),(0,i.useEffect)((function(){z()}),[]),(0,i.useEffect)((function(){if(n.id&&d.length>0){var e,r=d.filter((function(e){return null===n||void 0===n?void 0:n.courses.some((function(t){return t.course_id===e.id}))}));g(r);var s=null===(e=n.courses)||void 0===e?void 0:e.flatMap((function(e){return[e.course_id]}));T(s),t("courses",r);var a=n.language.split(",");q(C.filter((function(e){return a.some((function(t){return t===e.label}))})))}}),[d]);var z=function(){var e=(0,F.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(W)).then((function(e){return e.data})).then((function(e){y(e)})).catch((function(e){console.log(e,"err")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){var t=null===c||void 0===c?void 0:c.filter((function(t){return e.some((function(e){return e==t.course_id}))}));h(t)};return(0,p.jsxs)("div",{className:"w-100",children:[(0,p.jsxs)("div",{className:"d-flex flex-wrap gap-5 mb-10",children:[(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,p.jsx)("span",{className:"required",children:"Quiz Name"})}),(0,p.jsx)(wt.gN,{name:"name",className:"form-control mb-2",placeholder:"Enter quiz name"}),(0,p.jsx)("div",{className:"text-danger",children:(0,p.jsx)(wt.Bc,{name:"name"})})]}),(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,p.jsx)("span",{className:"required",children:"Quiz Type"})}),(0,p.jsxs)(wt.gN,{name:"quiz_type_id",as:"select",className:"form-select mb-2","data-control":"select2","data-hide-search":"true",placeholder:"Select an option",children:[(0,p.jsx)("option",{}),null===k||void 0===k?void 0:k.map((function(e){return(0,p.jsx)("option",{value:e.id,children:e.quiz_type},e.id)}))]}),(0,p.jsx)("div",{className:"text-danger",children:(0,p.jsx)(wt.Bc,{name:"quiz_type_id"})})]})]}),(0,p.jsxs)("div",{className:"d-flex flex-wrap gap-5 mb-10",children:[(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,p.jsx)("span",{className:"required",children:"Courses"})}),(0,p.jsx)(St.ZP,{isMulti:!0,name:"courses",options:d,className:"basic-multi-select",classNamePrefix:"select",value:b,onChange:function(e,n){var r=e.flatMap((function(e,t){return[e.id]}));T(r),t("courses",e),g(e)},getOptionLabel:function(e){return e.course_name},getOptionValue:function(e){return e.id}}),(0,p.jsx)("div",{className:"text-danger",children:(0,p.jsx)(wt.Bc,{name:"courses"})})]}),(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,p.jsx)("span",{className:"required",children:"Subject"})}),(0,p.jsxs)(wt.gN,{as:"select",name:"subject_id",className:"form-select mb-2","data-control":"select2","data-hide-search":"true",placeholder:"Select an option",children:[(0,p.jsx)("option",{}),x.map((function(e,t){return(0,p.jsx)("option",{value:e.id,children:e.subject_name},t)}))]}),(0,p.jsx)("div",{className:"text-danger",children:(0,p.jsx)(wt.Bc,{name:"subject_id"})})]})]}),(0,p.jsxs)("div",{className:"d-flex flex-wrap gap-5 mb-10",children:[(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"fs-6 fw-bold form-label required",children:"Quiz Duration (should be in minutes)"}),(0,p.jsx)(wt.gN,{name:"duration",type:"number",className:"form-control mb-2",placeholder:"Enter Question Marks"}),(0,p.jsx)("div",{className:"text-danger mt-2",children:(0,p.jsx)(wt.Bc,{name:"duration"})})]}),(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,p.jsx)("span",{className:"required",children:"Quiz Language"})}),(0,p.jsx)(St.ZP,{isMulti:!0,name:"language",options:C,className:"basic-multi-select",classNamePrefix:"select",value:Z,onChange:function(e,n){q(e),t("language",e.map((function(e){return e.value})).join(","))}}),(0,p.jsx)("div",{className:"text-danger mt-2",children:(0,p.jsx)(wt.Bc,{name:"language"})})]})]}),(0,p.jsxs)("div",{className:"d-flex flex-wrap gap-5 mb-10",children:[(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"fs-6 fw-bold form-label required",children:"No. Of Questions"}),(0,p.jsx)(wt.gN,{name:"total_questions",type:"number",className:"form-control mb-2",placeholder:"Enter Question Marks"}),(0,p.jsx)("div",{className:"text-danger mt-2",children:(0,p.jsx)(wt.Bc,{name:"total_questions"})})]}),(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,p.jsx)("span",{className:"required",children:"Total Marks"})}),(0,p.jsx)(wt.gN,{name:"marks",type:"number",className:"form-control mb-2",placeholder:"Enter negitive mark"}),(0,p.jsx)("div",{className:"text-danger mt-2",children:(0,p.jsx)(wt.Bc,{name:"marks"})})]})]})]})},qt=n(9513),Ct=n.n(qt),zt=(n(6096),function(e){var t,n,r,s,a,i,c,l,o,d=e.values,u=e.setFieldValue,m=(e.selectedLang,e.errors);e.setSelectedLang,e.roleForEdit;return console.log(d,"values"),(0,p.jsxs)("div",{className:"w-100",children:[(0,p.jsxs)("div",{className:"d-flex flex-wrap gap-5 mb-10",children:[(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"fs-6 fw-bold form-label required",children:"Question Time (should be in Second)"}),(0,p.jsx)(wt.gN,{name:"dates.question_time",type:"number",className:"form-control mb-2",placeholder:"Enter Question Marks"}),(0,p.jsx)("div",{className:"text-danger mt-2",children:(0,p.jsx)(wt.Bc,{name:"dates.question_time"})})]}),(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,p.jsx)("span",{className:"required",children:"Quiz Start Date Time"})}),(0,p.jsx)(Ct(),{className:"form-control mb-2",showTimeSelect:!0,selected:null!==d&&void 0!==d&&null!==(t=d.dates)&&void 0!==t&&t.start_date?new Date(null===d||void 0===d||null===(n=d.dates)||void 0===n?void 0:n.start_date):new Date,onChange:function(e){u("dates.start_date",e)}}),(0,p.jsx)("div",{className:"text-danger mt-2",children:null===m||void 0===m||null===(r=m.dates)||void 0===r?void 0:r.start_date})]})]}),(0,p.jsxs)("div",{className:"d-flex flex-wrap gap-5 mb-10",children:[(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"fs-6 fw-bold form-label required",children:"Registration Date Time"}),(0,p.jsx)(Ct(),{name:"dates.reg_open_date",className:"form-control mb-2",showTimeSelect:!0,selected:null!==d&&void 0!==d&&null!==(s=d.dates)&&void 0!==s&&s.reg_open_date?new Date(null===d||void 0===d||null===(a=d.dates)||void 0===a?void 0:a.reg_open_date):new Date,onChange:function(e){u("dates.reg_open_date",e)}}),(0,p.jsx)("div",{className:"text-danger mt-2",children:null===m||void 0===m||null===(i=m.dates)||void 0===i?void 0:i.reg_open_date})]}),(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,p.jsx)("span",{className:"required",children:"Result Publish Date Time"})}),(0,p.jsx)(Ct(),{showTimeSelect:!0,name:"dates.result_publish_date",className:"form-control mb-2",selected:null!==d&&void 0!==d&&null!==(c=d.dates)&&void 0!==c&&c.result_publish_date?new Date(null===d||void 0===d||null===(l=d.dates)||void 0===l?void 0:l.result_publish_date):new Date,onChange:function(e){u("dates.result_publish_date",e)}}),(0,p.jsx)("div",{className:"text-danger mt-2",children:null===m||void 0===m||null===(o=m.dates)||void 0===o?void 0:o.result_publish_date})]})]}),(0,p.jsxs)("div",{className:"d-flex flex-wrap gap-5 mb-10",children:[(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"fs-6 fw-bold form-label required",children:"Total Spots"}),(0,p.jsx)(wt.gN,{name:"prize.total_spots",type:"number",className:"form-control mb-2",placeholder:"Enter Prize Pool"}),(0,p.jsx)("div",{className:"text-danger mt-2",children:(0,p.jsx)(wt.Bc,{name:"prize.total_spots"})})]}),(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,p.jsx)("span",{className:"required",children:"Entry Fee"})}),(0,p.jsx)(wt.gN,{name:"prize.entry_fee",type:"number",className:"form-control mb-2",placeholder:"Enter negitive mark"}),(0,p.jsx)("div",{className:"text-danger mt-2",children:(0,p.jsx)(wt.Bc,{name:"prize.entry_fee"})})]})]}),(0,p.jsxs)("div",{className:"d-flex flex-wrap gap-5 mb-10",children:[(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"fs-6 fw-bold form-label required",children:"Total Winner Percentage"}),(0,p.jsx)(wt.gN,{name:"prize.total_winner_percentage",type:"number",className:"form-control mb-2",placeholder:"Enter Question Marks"}),(0,p.jsx)("div",{className:"text-danger mt-2",children:(0,p.jsx)(wt.Bc,{name:"prize.total_winner_percentage"})})]}),(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,p.jsx)("span",{className:"required",children:"Prize Distribution Percentage"})}),(0,p.jsx)(wt.gN,{name:"prize.prize_distribution_percentage",type:"number",className:"form-control mb-2",placeholder:"Enter negitive mark"}),(0,p.jsx)("div",{className:"text-danger mt-2",children:(0,p.jsx)(wt.Bc,{name:"prize.prize_distribution_percentage"})})]})]}),(0,p.jsxs)("div",{className:"d-flex flex-wrap gap-5 mb-10",children:[(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"fs-6 fw-bold form-label required",children:"Prize Pool"}),(0,p.jsx)(wt.gN,{name:"prize.prize_pool",type:"number",readOnly:!0,className:"form-control mb-2",placeholder:"Enter Question Marks"}),(0,p.jsx)("div",{className:"text-danger mt-2",children:(0,p.jsx)(wt.Bc,{name:"prize.prize_pool"})})]}),(0,p.jsxs)("div",{className:"fv-row w-100 flex-md-root",children:[(0,p.jsx)("label",{className:"d-flex align-items-center form-label",children:(0,p.jsx)("span",{className:"required",children:"First Prize"})}),(0,p.jsx)(wt.gN,{name:"prize.first_prize",type:"number",readOnly:!0,className:"form-control mb-2",placeholder:"Enter negitive mark"}),(0,p.jsx)("div",{className:"text-danger mt-2",children:(0,p.jsx)(wt.Bc,{name:"prize.first_prize"})})]})]})]})}),Pt=function(e){var t=e.role,n=e.isUserLoading,r=(0,i.useRef)(null),s=(0,i.useRef)(null),o=Ke().setItemIdForUpdate,d=Xe().refetch,m=(0,i.useState)(!1),f=(0,a.Z)(m,2),x=f[0],h=f[1],v=(0,i.useState)(yt[0]),j=(0,a.Z)(v,2),b=j[0],g=j[1],N=(0,i.useState)((0,l.Z)((0,l.Z)({},t),{},{subject_id:t.subject_id||_t.subject_id,name:t.name||_t.name,quiz_type_id:t.quiz_type_id||_t.quiz_type_id,marks:t.marks||_t.marks,duration:t.duration||_t.duration,total_questions:t.total_questions||_t.total_questions,language:t.language||_t.language,dates:t.dates||_t.dates,prize:t.prize||_t.prize,questions:t.questions||_t.questions,courses:t.courses||_t.courses})),w=(0,a.Z)(N,2),k=w[0],y=(w[1],(0,i.useState)(null)),_=(0,a.Z)(y,2),S=_[0],Z=_[1];(0,i.useEffect)((function(){r.current&&C()}),[r]);var C=function(){s.current=q.vO.createInsance(r.current)},z=function(){s.current&&(h(s.current.currentStepIndex===s.current.totatStepsNumber-1),s.current.goPrev(),g(yt[s.current.currentStepIndex-1]))},T=function(){var e=(0,F.Z)((0,P.Z)().mark((function e(t,n){var r;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.current){e.next=2;break}return e.abrupt("return");case 2:if(h(s.current.currentStepIndex===s.current.totatStepsNumber-1),g(yt[s.current.currentStepIndex]),s.current.currentStepIndex===s.current.totatStepsNumber){e.next=12;break}return e.next=7,a=t,u().post(V,a).then((function(e){return e.data})).then((function(e){return e.data}));case 7:r=e.sent,n.setFieldValue("id",null===r||void 0===r?void 0:r.id),s.current.goNext(),e.next=25;break;case 12:return e.prev=12,e.next=15,J({id:t.id,dates:t.dates,prize:t.prize});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.error(e.t0);case 20:return e.prev=20,n.resetForm(),!0&&d(),o(void 0),ot().fire({title:"Success!",text:"Quiz Updated!",icon:"success",confirmButtonText:"Okay"}),e.finish(20);case 25:case"end":return e.stop()}var a}),e,null,[[12,17,20,25]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{ref:r,className:"stepper stepper-links d-flex flex-column",id:"kt_create_account_stepper",children:[(0,p.jsxs)("div",{className:"stepper-nav mb-5",children:[(0,p.jsx)("div",{className:"stepper-item current","data-kt-stepper-element":"nav",children:(0,p.jsx)("h3",{className:"stepper-title",children:"Quiz Detail"})}),(0,p.jsx)("div",{className:"stepper-item","data-kt-stepper-element":"nav",children:(0,p.jsx)("h3",{className:"stepper-title",children:"Quiz Setting"})})]}),(0,p.jsx)(wt.J9,{validationSchema:b,initialValues:k,onSubmit:T,validateOnChange:!1,children:function(e){var t=e.setFieldValue,n=e.values,r=e.touched,s=e.setFieldError,a=e.errors;return(0,p.jsxs)(wt.l0,{className:"mx-auto mw-700px w-100 pt-5 pb-10",id:"kt_create_account_form",children:[(0,p.jsx)("div",{className:"current","data-kt-stepper-element":"content",children:(0,p.jsx)(Zt,{setFieldValue:t,values:n,touched:r,setFieldError:s,errors:a})}),(0,p.jsx)("div",{"data-kt-stepper-element":"content",children:(0,p.jsx)(zt,{setFieldValue:t,values:n,selectedLang:S,setSelectedLang:Z,roleForEdit:k,errors:a})}),(0,p.jsxs)("div",{className:"d-flex flex-stack pt-15",children:[(0,p.jsx)("div",{className:"mr-2",children:(0,p.jsxs)("button",{onClick:z,type:"button",className:"btn btn-lg btn-light-primary me-3","data-kt-stepper-action":"previous",children:[(0,p.jsx)(c.D8,{path:"/media/icons/duotune/arrows/arr063.svg",className:"svg-icon-4 me-1"}),"Back"]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary me-3",children:(0,p.jsxs)("span",{className:"indicator-label",children:[!x&&"Continue",x&&"Submit",(0,p.jsx)(c.D8,{path:"/media/icons/duotune/arrows/arr064.svg",className:"svg-icon-3 ms-2 me-0"})]})})})]})]})}})]}),n&&(0,p.jsx)(jt,{})]})},Ft=function(){var e=Ke(),t=e.itemIdForUpdate,n=e.setItemIdForUpdate,r=(0,c.UE)(t),s=(0,o.useQuery)("".concat(c.vb.USERS_LIST,"-user-").concat(t),(function(){return e=t,u().get("".concat(V,"/").concat(e)).then((function(e){return e.data})).then((function(e){return e.data}));var e}),{cacheTime:0,enabled:r,onError:function(e){n(void 0),console.error(e)}}),a=s.isLoading,i=s.data,l=s.error;return t?a||l||!i?null:(0,p.jsx)(Pt,{isUserLoading:a,role:i}):(0,p.jsx)(Pt,{isUserLoading:a,role:{id:void 0}})},Tt=function(){return(0,i.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"modal fade show d-block",id:"kt_modal_add_user",role:"dialog",tabIndex:-1,"aria-modal":"true",children:(0,p.jsx)("div",{className:"modal-dialog modal-dialog-centered mw-900px",children:(0,p.jsxs)("div",{className:"modal-content",children:[(0,p.jsx)(Nt,{}),(0,p.jsx)("div",{className:"modal-body scroll-y mx-5 mx-xl-15",children:(0,p.jsx)(Ft,{})})]})})}),(0,p.jsx)("div",{className:"modal-backdrop fade show"})]})},It=function(){var e=Ke().itemIdForUpdate;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(c.O7,{children:[(0,p.jsx)(rt,{}),(0,p.jsx)(gt,{})]}),void 0!==e&&(0,p.jsx)(Tt,{})]})},Qt=function(){return(0,p.jsx)(Oe,{children:(0,p.jsx)(Be,{children:(0,p.jsx)(Ge,{children:(0,p.jsx)(Y,{children:(0,p.jsx)(It,{})})})})})},Et=[{title:"Quiz",path:"/quiz/quiz",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],Mt=function(){return(0,p.jsx)(r.Z5,{children:(0,p.jsxs)(r.AW,{element:(0,p.jsx)(r.j3,{}),children:[(0,p.jsx)(r.AW,{path:"quiz",element:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.V1,{breadcrumbs:Et,children:"Quizzes list"}),(0,p.jsx)(Qt,{})]})}),(0,p.jsx)(r.AW,{path:"add-question/:id",element:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.V1,{breadcrumbs:Et,children:"Questions list"}),(0,p.jsx)(ce,{})]})}),(0,p.jsx)(r.AW,{path:"view-question/:id",element:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.V1,{breadcrumbs:Et,children:"Questions list"}),(0,p.jsx)(Ae,{})]})}),(0,p.jsx)(r.AW,{index:!0,element:(0,p.jsx)(r.Fg,{to:"/quiz/quiz"})})]})})}}}]);
//# sourceMappingURL=826.64e0e735.chunk.js.map